<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>Publish and Synchronize Repeated Export | Spryker</title>
        <meta name="description" content="Automatic execution of Publish &amp; Synchronize process does not always resolve all your tasks, as sometimes you might need to trigger some commands manually." />
    </head>
    <body>
        <h1>Publish and Synchronize Repeated Export</h1>
        <p>Automatic execution of <a href="http://documentation.spryker.com/tutorials/introduction/handling-data-publish-and-synchronization.htm">Publish &amp; Synchronize process</a> does not always resolve all your tasks, as sometimes you might need to trigger some commands manually. For example, you might want to re-synchronize published data in Redis and Elasticsearch to display updated information in your shop front-end, or you might even want to completely re-generate published data and re-write data of database tables in Storage and Search modules with subsequent update of Redis and Elasticsearch records. All this can be done manually with specific terminal commands, without having to re-run the entire process.</p>
        <h2>Data Re-synchronization</h2>
        <p>Imagine you have flushed Redis or some accident happened and you lost your data that were in Redis and/or Elasticsearch. In such cases, you might want to re-export data into Redis and Elasticsearch. To do so, you can simply run the following command:</p><pre><code class="language-PHP line-numbers">console sync:data</code></pre>
        <p>It will fill up Redis and Elasticsearch in a very short period of time. This command reads aggregated data from Storage and Search modules DB tables, and sends it to RabbitMQ queues. The data in Redis and Elasticsearch is then re-synchronised, i.e. data from Rabbit queues is copied to Redis and Elasticsearch.</p>
        <p>The re-synchronization command can also be applied to individual Storage and Search tables by indicating specific entities that should be affected. To specify an entity, indicate its name after the command:</p><pre><code class="language-PHP line-numbers">console sync:data {resource_name}</code></pre>
        <p>For example, to re-synchronize data just for CMS Block, run</p><pre><code class="language-PHP line-numbers">sync:data cms_block</code></pre>
        <h2>Re-generating Published Data</h2>
        <p>It is also possible to re-generate published data completely. For example, you have run product import, but something went wrong and you want to re-publish data, i.e. update Storage and Search tables, as well as subsequently have the new data in Redis and Elasticsearch. In this case, you would not have to re-run the import, but run the following command instead:</p><pre><code class="language-PHP line-numbers">console event:trigger</code></pre>
        <p>This command not only reads data from Storage and Search tables, but also re-writes their data and then updates Redis and Elasticsearch records.</p>
        <p>With this command, you can also specify an entity it should be applied to, by adding -r and entity name and (optionally) IDs:</p><pre><code class="language-PHP line-numbers">console event:trigger -r {resource_name} -i {ids}</code></pre>
        <p>For example, to re-generate published data for CMS Block and Availability entities, run</p><pre><code class="language-PHP line-numbers">console event:trigger -r cms_block,availability -i 1,2</code></pre>
        <p>&#160;</p>
        <h3>See also:</h3>
        <ul>
            <li><a href="publish-and-synchronization.htm">Publish and Synchronization: General concept</a>
            </li>
            <li>
                <MadCap:xref href="../../Resources and Developer Tools/publish-and-synchronization-reference.htm">Publish and Synchronization Reference</MadCap:xref>
            </li>
            <li><a href="http://documentation.spryker.com/tutorials/introduction/handling-data-publish-and-synchronization.htm">Tutorial - Handling Data - Publish and Synchronization</a>
            </li>
        </ul>
        <p>&#160;</p>
        <p><i>Last review date: November 7th, 2018</i> <MadCap:conditionalText MadCap:conditions="General.Hidden Comment">by Helen Kravchenko, Ruslan Dovhospynyi</MadCap:conditionalText></p>
    </body>
</html>