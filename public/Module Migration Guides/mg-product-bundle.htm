<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="" MadCap:lastBlockDepth="4" MadCap:lastHeight="888" MadCap:lastWidth="1312" MadCap:conditions="General.Demoshop">
    <head>
    </head>
    <body>
        <h1>Migration Guide - Product Bundle</h1>
        <h2>Upgrading from Version 3.* to Version 4.*</h2>
        <p>
             In version 4 we have added support for multi-currency. First of all make sure you <a href="mg-price.htm">migrated the Price module</a>.              If you extended <var>ProductBundleCartExpander</var>, then you have to adapt some code because we changed how price is selected for added bundle products, check that core changes and adapt accordingly.
             We have also added a new plugin to handle cart reload event.
         </p>
        <p>
            You will also need to add <var>\Spryker\Zed\ProductBundle\Communication\Plugin\Cart\CartBundleItemsPreReloadPlugin</var> plugin to <var>\Pyz\Zed\Cart\CartDependencyProvider::getPreReloadPlugins()</var>,
            this ensures that bundle items are correctly updated when currency is changed and cart reload is invoked.
</p>
        <h2>Upgrading from Version 2.* to Version 3.*

</h2>
        <p>In version 3 the calculator plugin has been changed together with the new calculator version.

</p>
        <p>The <var>ProductBundlePriceAggregatorPlugin</var> has been moved to the <var>SalesAggregator</var> module, so you may need to change the namespace <var>\Spryker\Zed\SalesAggregator\Communication\Plugin\OrderAmountAggregator\ProductBundlePriceAggregatorPlugin</var> if you still want to use it.</p>
        <p> <var>aggregator.

ProductBundlePriceCalculation</var> - does not have sales aggregator logic anymore. This class has been adapted to the new calculator concept, if you want to use the old one, use it from <var>\Spryker\Zed\SalesAggregator\Business\Model\OrderAmountAggregator\ProductBundlePrices</var>.</p>
        <p>&#160;</p>
        <p><b>See also:</b>
        </p>
        <ul>
            <li><a href="mg-price.htm">Learn how to migrate Price</a>
            </li>
            <li><a href="mg-product.htm">Learn how to migrate Product</a>
            </li>
        </ul>
        <p>&#160;</p>
        <p><i>Last review date: Nov. 23rd, 2017 </i>
            <MadCap:conditionalText MadCap:conditions="General.Hidden Comment"><i>by Aurimas Ličkus </i>
            </MadCap:conditionalText>
        </p>
    </body>
</html>