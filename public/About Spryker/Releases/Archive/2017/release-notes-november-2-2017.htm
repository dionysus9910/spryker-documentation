<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="General.Demoshop">
    <head>
        <link href="../../../../Resources/TableStyles/PatternedRows2.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>Release Notes - November - 2 2017</title>
    </head>
    <body>
        <h1>Release Notes - November - 2 2017</h1>
        <MadCap:menuProxy mc-linked-toc="$topicHeadings" style="mc-context-sensitive: True;mc-include-parent: True;mc-include-siblings: True;mc-include-children: True;" data-mc-skin="/Project/Skins/SideMenuNotFixed.flskn" />
        <h2>Improvements</h2>
        <h3>Inspinia Update</h3>
        <p>With this update we bring the latest version of Inspinia (2.7.1) into Zed Administrative Interdace. You can now take full advantage Inspinia's latest feature set and improvements. </p>
        <p>In order to take the latest changes introduced by this version, </p>
        <ul>
            <li>remove the existing <var>node_modules</var> folder from <var>vendor/spryker/gui/assets/Zed</var> folder and </li>
            <li>either 
            <ul><li>re-run <var>./setup -i</var> from the VM or </li><li>run <var>npm install</var> from <var>vendor/spryker/gui/assets/Zed</var> to update the dependencies</li></ul></li>
        </ul>
        <p><strong>Affected Modules</strong>
        </p>
        <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../../Resources/TableStyles/PatternedRows2.css');" cellspacing="0">
            <thead>
                <tr class="TableStyle-PatternedRows-Head-Header1">
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Major</th>
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Minor</th>
                    <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Patch</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">n/a</td>
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">- <a href="https://github.com/spryker/Gui/releases/tag/3.11.0">Gui 3.11.0</a></td>
                    <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">- <a href="https://github.com/spryker/NavigationGui/releases/tag/2.0.2">NavigationGui 2.0.2</a><br />- <a href="https://github.com/spryker/ProductSetGui/releases/tag/1.1.3">ProductSetGui 1.1.3</a></td>
                </tr>
            </tbody>
        </table>
        <h3>Filter Out Certain Orders from Listing in Yves Customer Account</h3>
        <p>In certain cases you might not want to list certain orders to the customer in Yves. Like for example orders failing the post-check should be filtered out in the list of orders in Yves customer account. Previously those orders were not being filtered out in Yves. The problem with displaying those is that in Yves when post-check fails "order placed successfully" message is not displayed to customer, so customer does not know that those orders are actually persisted. Yet it is important to have those in Zed for example to later be able to investigate and analyze what happened, as well as have statistics on the order placement process. However as this is not relevant to the Yves user, Yves user should not see failed orders mixed with successfully submitted ones.</p>
        <p>With this release we now filter those orders in Yves customer account. Now it is possible to add a special flag to order items "exclude from customer". If all items in the order have this state, the order won't be listed for the customer.</p>
        <p><strong>Affected Modules</strong>
        </p>
        <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../../Resources/TableStyles/PatternedRows2.css');" cellspacing="0">
            <thead>
                <tr class="TableStyle-PatternedRows-Head-Header1">
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Major</th>
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Minor</th>
                    <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Patch</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">n/a</td>
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">- <a href="https://github.com/spryker/Oms/releases/tag/7.3.0">Oms 7.3.0</a><br />- <a href="https://github.com/spryker/Sales/releases/tag/8.2.0">Sales 8.2.0</a></td>
                    <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">- <a href="https://github.com/spryker/DummyPayment/releases/tag/2.1.3">DummyPayment 2.1.3</a></td>
                </tr>
            </tbody>
        </table>
        <h3>Limits for Sequence Numbers</h3>
        <p>For multi-server architecture, it's useful to set a maximal sequence number to differentiate a server which has issued the number (for example if you would like to split the same order range between multiple systems allocating a subrange for each).
            With this release we are introducing limits for sequence numbers. Sequence limits are now available in the environment configuration.</p>
        <p><strong>Affected Modules</strong>
        </p>
        <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../../Resources/TableStyles/PatternedRows2.css');" cellspacing="0">
            <thead>
                <tr class="TableStyle-PatternedRows-Head-Header1">
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Major</th>
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Minor</th>
                    <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Patch</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">n/a</td>
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">- <a href="https://github.com/spryker/SequenceNumber/releases/tag/3.1.0">SequenceNumber 3.1.0</a></td>
                    <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">n/a</td>
                </tr>
            </tbody>
        </table>
        <h3>Double Click Protection for Submit Action in Zed Administrative Interface</h3>
        <p>This release adds double click prevention in Zed Administrative Interface. By adding the class name <var>.safe-submit</var> to an html button or link, it will be disabled after the first click, preventing the action connected to be executed more than once.</p>
        <p>In order to obtain this feature, you need to get <a href="https://github.com/spryker/Gui/releases/tag/3.12.0">Gui 3.12.0</a> or higher module version. Otherwise the <var>.safe-submit</var> class name will be ignored and the behavior simply won't change.</p>
        <p>In this release a Twig function <var>submit_button</var> has been added. It provides a basic input field with <var>btn btn-primary safe-submit</var> class name. This is meant to replace the submit input fields across Zed Interface, providing consistency. The usage is <var>{{ submit_button('value', { attr: {...} }) }}</var>.</p>
        <p><strong>Affected Modules</strong>
        </p>
        <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../../Resources/TableStyles/PatternedRows2.css');" cellspacing="0">
            <thead>
                <tr class="TableStyle-PatternedRows-Head-Header1">
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Major</th>
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Minor</th>
                    <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Patch</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">n/a</td>
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">- <a href="https://github.com/spryker/Discount/releases/tag/5.1.0">Discount 5.1.0</a><br />- <a href="https://github.com/spryker/Gui/releases/tag/3.12.0">Gui 3.12.0</a><br />- <a href="https://github.com/spryker/ProductOption/releases/tag/5.5.0">ProductOption 5.5.0</a><br />- <a href="https://github.com/spryker/Sales/releases/tag/8.1.0">Sales 8.1.0</a></td>
                    <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">- <a href="https://github.com/spryker/Acl/releases/tag/3.0.4">Acl 3.0.4</a><br />- <a href="https://github.com/spryker/AvailabilityGui/releases/tag/2.0.4">AvailabilityGui 2.0.4</a><br />- <a href="https://github.com/spryker/Category/releases/tag/4.2.2">Category 4.2.2</a><br />- <a href="https://github.com/spryker/Cms/releases/tag/6.3.3">Cms 6.3.3</a><br />- <a href="https://github.com/spryker/CmsBlockGui/releases/tag/1.1.5">CmsBlockGui 1.1.5</a><br />- <a href="https://github.com/spryker/CmsGui/releases/tag/4.3.2">CmsGui 4.3.2</a><br />- <a href="https://github.com/spryker/Customer/releases/tag/6.3.3">Customer 6.3.3</a><br />- <a href="https://github.com/spryker/CustomerGroup/releases/tag/2.2.1">CustomerGroup 2.2.1</a><br />- <a href="https://github.com/spryker/Glossary/releases/tag/3.2.1">Glossary 3.2.1</a><br />- <a href="https://github.com/spryker/NavigationGui/releases/tag/2.0.3">NavigationGui 2.0.3</a><br />- <a href="https://github.com/spryker/ProductAttributeGui/releases/tag/1.0.3">ProductAttributeGui 1.0.3</a><br />- <a href="https://github.com/spryker/ProductCategory/releases/tag/4.4.2">ProductCategory 4.4.2</a><br />- <a href="https://github.com/spryker/ProductLabelGui/releases/tag/1.1.2">ProductLabelGui 1.1.2</a><br />- <a href="https://github.com/spryker/ProductManagement/releases/tag/0.8.3">ProductManagement 0.8.3</a><br />- <a href="https://github.com/spryker/ProductRelation/releases/tag/1.1.1">ProductRelation 1.1.1</a><br />- <a href="https://github.com/spryker/ProductSearch/releases/tag/5.2.1">ProductSearch 5.2.1</a><br />- <a href="https://github.com/spryker/ProductSetGui/releases/tag/1.1.4">ProductSetGui 1.1.4</a><br />- <a href="https://github.com/spryker/Shipment/releases/tag/6.0.2">Shipment 6.0.2</a><br />- <a href="https://github.com/spryker/Tax/releases/tag/5.1.4">Tax 5.1.4</a><br />- <a href="https://github.com/spryker/User/releases/tag/3.1.1">User 3.1.1</a></td>
                </tr>
            </tbody>
        </table>
        <h3>Success Codes for NewRelic Record Deployment Response</h3>
        <p>Previously NewRelic response code was too strict, only 200 was allowed. With this fix now we allow for <var>recordDeployment()</var> response also 201 and other 2xx codes.</p>
        <p><strong>Affected Modules</strong>
        </p>
        <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../../Resources/TableStyles/PatternedRows2.css');" cellspacing="0">
            <thead>
                <tr class="TableStyle-PatternedRows-Head-Header1">
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Major</th>
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Minor</th>
                    <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Patch</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">n/a</td>
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">n/a</td>
                    <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">- <a href="https://github.com/spryker/NewRelic/releases/tag/3.1.1">NewRelic 3.1.1</a></td>
                </tr>
            </tbody>
        </table>
        <h2>Bugfixes</h2>
        <h3>Case Sensitive Propel and Duplicate Email Addresses</h3>
        <p>Previously we had a problem with duplicated email addresses when running on PostgreSQL. We updated Propel schema to implement case-insensitive flag for columns. The flag is enabled for the email field in Customer module by default.</p>
        <p>This change does not require database changes but it does require Propel model regeneration.</p>
        <p><strong>Affected Modules</strong>
        </p>
        <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../../Resources/TableStyles/PatternedRows2.css');" cellspacing="0">
            <thead>
                <tr class="TableStyle-PatternedRows-Head-Header1">
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Major</th>
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Minor</th>
                    <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Patch</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">- <a href="https://github.com/spryker/Customer/releases/tag/7.0.0">Customer 7.0.0</a></td>
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">- <a href="https://github.com/spryker/PropelOrm/releases/tag/1.5.0">PropelOrm 1.5.0</a></td>
                    <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">- <a href="https://github.com/spryker/CustomerApi/releases/tag/0.1.3">CustomerApi 0.1.3</a><br />- <a href="https://github.com/spryker/CustomerGroup/releases/tag/2.2.2">CustomerGroup 2.2.2</a><br />- <a href="https://github.com/spryker/CustomerUserConnector/releases/tag/1.0.1">CustomerUserConnector 1.0.1</a><br />- <a href="https://github.com/spryker/CustomerUserConnectorGui/releases/tag/1.0.1">CustomerUserConnectorGui 1.0.1</a><br />- <a href="https://github.com/spryker/Newsletter/releases/tag/4.1.5">Newsletter 4.1.5</a><br />- <a href="https://github.com/spryker/ProductReviewGui/releases/tag/1.0.1">ProductReviewGui 1.0.1</a><br />- <a href="https://github.com/spryker/Sales/releases/tag/8.2.1">Sales 8.2.1</a><br />- <a href="https://github.com/spryker/Wishlist/releases/tag/4.2.1">Wishlist 4.2.1</a></td>
                </tr>
            </tbody>
        </table>
        <p><strong>Documentation</strong>
        </p>
        <p>For module documentation see: <a href="http://documentation.spryker.com/capabilities/crm/customer-module-overview.htm">Customer Module Guide</a>.</p>
        <p>For detailed migration guides see: <a href="http://documentation.spryker.com/module_migration_guides/mg-customer.htm">Customer Module Migration Guide from Version 6. to 7.</a>.</p>
        <p><strong>Migration Guides</strong>
        </p>
        <p>To upgrade, follow the steps described below:</p>
        <ul>
            <li>Apply every minor and patch:</li>
        </ul><pre><code>composer update "spryker/*"</code></pre>
        <ul>
            <li>Once that is done, upgrade to the new module major and its dependencies:</li>
        </ul><pre><code>composer require spryker/customer:"^7.0.0"</code></pre>
        <h3>Thread/Process -safe Sequence Generator</h3>
        <p>Previously the row with the current counter was not being locked for the sequence generator, which could have resulted in many concurrent processes approaching the <var>sequence-&gt;save();</var> having the same number generated. This is now resolved by locking the row when one process reads the sequence number, in this case other processes need to wait until the current process is finished.</p>
        <p>We provide row-level locks functionality using Propel. To acquire a row-level lock on a row, there is now a new method in QueryBuilder <var>forUpdate(true|false)</var> which can be called in select queries. The lock is held until the transaction commits or rolls back, just like table-level locks. For more information please check <a href="https://www.postgresql.org/docs/9.1/static/explicit-locking.html">PostgreSQL 9.1.24 Documentation for Explicit Locking</a>, <a href="https://dev.mysql.com/doc/refman/5.7/en/select.html">MySQL 5.7 Reference Manual for SELECT Syntax</a>.</p>
        <p>Please make sure to</p>
        <ul>
            <li>adjust the namespaces in your config_*.php files
                    <pre><code class="language-php">//use Spryker\Zed\Propel\Business\Builder\ObjectBuilder; (remove)
                        //use Spryker\Zed\Propel\Business\Builder\QueryBuilder; (remove)
                        use Spryker\Zed\PropelOrm\Business\Builder\ObjectBuilder;
                        use Spryker\Zed\PropelOrm\Business\Builder\QueryBuilder;</code></pre></li>
            <li>and run <var>console propel:model:build</var> to update your Query classes</li>
        </ul>
        <p><strong>Affected Modules</strong>
        </p>
        <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../../Resources/TableStyles/PatternedRows2.css');" cellspacing="0">
            <thead>
                <tr class="TableStyle-PatternedRows-Head-Header1">
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Major</th>
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Minor</th>
                    <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Patch</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">n/a</td>
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">- <a href="https://github.com/spryker/PropelOrm/releases/tag/1.4.0">PropelOrm 1.4.0</a></td>
                    <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">- <a href="https://github.com/spryker/Propel/releases/tag/3.2.4">Propel 3.2.4</a><br />- <a href="https://github.com/spryker/SequenceNumber/releases/tag/3.0.1">SequenceNumber 3.0.1</a></td>
                </tr>
            </tbody>
        </table>
        <h3>Resizeable Table Headers</h3>
        <p>Previously we had an issue with the table headers in the Zed Administrative Interface. When resizing the browser window the content of the table was resized, but the headers were not adjusted accordingly. This fix makes sure that the data table headers grow/shrink with the window width.</p>
        <p><strong>Affected Modules</strong>
        </p>
        <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../../Resources/TableStyles/PatternedRows2.css');" cellspacing="0">
            <thead>
                <tr class="TableStyle-PatternedRows-Head-Header1">
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Major</th>
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Minor</th>
                    <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Patch</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">n/a</td>
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">n/a</td>
                    <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">- <a href="https://github.com/spryker/Gui/releases/tag/3.10.2">Gui 3.10.2</a></td>
                </tr>
            </tbody>
        </table>
        <h3>Breadcrumb for Product Attribute Translation Management Interface</h3>
        <p>Previously breadcrumbs were missing for the product attribute translation management interface. This issue has been fixed now.</p>
        <p><strong>Affected Modules</strong>
        </p>
        <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../../Resources/TableStyles/PatternedRows2.css');" cellspacing="0">
            <thead>
                <tr class="TableStyle-PatternedRows-Head-Header1">
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Major</th>
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Minor</th>
                    <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Patch</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">n/a</td>
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">n/a</td>
                    <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">- <a href="https://github.com/spryker/ProductAttributeGui/releases/tag/1.0.2">ProductAttributeGui 1.0.2</a></td>
                </tr>
            </tbody>
        </table>
        <h2>Documentation Updates</h2>
        <p>The following content has been added to the Academy:</p>
        <ul>
            <li><a href="http://documentation.spryker.com/industry_partners/payment/payone/v1_1/payone-v1-1.htm">Payment Integration - BS Payone - 1.1</a>
            </li>
            <li><a href="http://documentation.spryker.com/industry_partners/payment/payone/v1_1/payone-integration-with-project-example.htm">Integration With Project - Payone</a>
            </li>
            <li><a href="http://documentation.spryker.com/industry_partners/payment/payone/v1_1/payone-paypal-express-checkout.htm">PayPal Express Checkout Payment - Payone - 1.1</a>
            </li>
        </ul>
        <p>&#160;</p>
        <p>Your feedback would be highly appreciated. Please help us understand what you need from the Spryker Academy by filling out a very short survey <a href="https://docs.google.com/forms/d/1_vZg0lfqq24Qf9-fQhU50NgsEBy4eDqnDyx7gKz9Faw/edit">here</a>.</p>
        <p><![CDATA[    ]]></p>
    </body>
</html>