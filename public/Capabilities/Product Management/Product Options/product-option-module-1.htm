<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="" MadCap:conditions="Spryker.ShopSuite,Spryker.MultiStore,Spryker.MultiCurrency,Spryker.MultiLanguage,Spryker.DemoShop,Spryker.B2C,Spryker.B2B">
    <head>
    </head>
    <body>
        <h1>Product Option Module - Version 1 <img src="../../../Resources/Images/shoptype/B2B_Shop.png" /> <img src="../../../Resources/Images/shoptype/B2C_Shop.png" /> <img src="../../../Resources/Images/shoptype/MasterSuite.png" /> <img src="../../../Resources/Images/shoptype/Demoshop.png" /></h1>
        <p>
            <MadCap:popup>
                <MadCap:popupHead>ML</MadCap:popupHead>
                <MadCap:popupBody>Multi-language</MadCap:popupBody>
            </MadCap:popup> <MadCap:popup><MadCap:popupHead>MS</MadCap:popupHead><MadCap:popupBody>Multi-store</MadCap:popupBody></MadCap:popup> <MadCap:popup><MadCap:popupHead>MC</MadCap:popupHead><MadCap:popupBody>Multi-currency</MadCap:popupBody></MadCap:popup></p>
        <p>
            <MadCap:relatedTopics style="mc-label: 'Versions';mc-help-control-display: list;">
                <MadCap:relatedTopic src="product-option-module-2.htm" />
            </MadCap:relatedTopics>
        </p>
        <p>This module manages the <var>product options</var>. The product options are product additions that can be sold with the actual product. Each <var>product abstract</var> can have multiple <var>product option groups</var> attached.</p>
        <p>Each <var>product option value</var> has a price, which changes the total price of the selected product.</p>
        <h2>Option Group</h2>
        <p>The group <var>name</var> is a <var>glossary key</var> which translation is stored in the Glossary table.</p>
        <p>Each <var>product option group</var> can be enabled and disabled through the <var>active</var> flag.</p>
        <p>Each <var>product option group</var> has a <var>tax set</var> assigned which affects the final price calculation.</p>
        <h2>Option Value</h2>
        <p>Each <var>product option value</var> has a <var>default price</var>.</p>
        <p>Each <var>product option value</var> has a unique <var>SKU</var> which is used for linking products.</p>
        <p>Each <var>product option value</var> has a <var>value</var> which is used as a <var>glossary key</var> to have a customer locale specific translation.</p>
        <p>Price is an integer value and stored in its normalized form. (Example: 4EUR is stored as 400 in database).</p>
        <h2>Database Schema</h2>
        <p>Each <var>abstract product</var> can have multiple <var>option groups</var> linked to it.</p>
        <p>Each <var>product option group</var> can have multiple <var>product option values</var>.</p>
        <p>Each <var>product option group</var> has an assigned <var>tax set</var>, which is used during the calculation of final prices.</p>
        <p>Different <var>SKU</var> and <var>glossary key</var> is stored for each <var>product option value</var>.</p>
        <p>In the diagram below you can see how the product options are stored in the database:</p>
        <p>
            <img src="../../../Resources/Images/product_options_database_schema1.png" title="Click me" alt="Product options database" class="Thumbnail" />
        </p>
        <h2>Product Option Collector</h2>
        <p>Product options are exported to Yves by separate collector, each <var>abstract product</var> has all of its options exported to the client side storage.</p>
        <h2>Option Storage When Order is Placed</h2>
        <p>Each option is persisted into <var>sales_order_item_option</var> table when the order is placed.</p>
        <p>In the diagram below you can see how the product options are stored when the order is placed:</p>
        <p>
            <img src="../../../Resources/Images/product_options_storage.png" title="Click me" alt="product options storage" class="Thumbnail" />
        </p>
        <p>In ProductOptionCartConnector module version &gt;= 4.2.* we introduced new cart pre check plugin to handle situations when product option does not exists, this plugin will write error message which will be displayed in Yves.</p>
        <p>To install plugin take it from <var>\Spryker\Zed\ProductOptionCartConnector\Communication\Plugin\CartItemOptionPreCheckPlugin</var> and place it you your Cart project dependency provider <var>\Pyz\Zed\Cart\CartDependencyProvider::getCartPreCheckPlugins</var>.</p>
        <p MadCap:conditions="General.Image_Source">https://www.gliffy.com/go/share/image/sxad6c9kjkr9g2k34hma.png?utm_medium=live-embed&amp;utm_source=custom</p>
        <p>&#160;</p>
        <p><i>Last review date: Nov. 10th, 2017 </i>
            <MadCap:conditionalText MadCap:conditions="General.Hidden Comment"><i>by Karoly Gerner</i>
            </MadCap:conditionalText>
        </p>
    </body>
</html>