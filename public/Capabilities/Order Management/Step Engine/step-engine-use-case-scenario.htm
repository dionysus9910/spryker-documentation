<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="" MadCap:conditions="Spryker.ShopSuite,Spryker.DemoShop,Spryker.B2C,Spryker.B2B">
    <head>
    </head>
    <body>
        <h1><a name="Use"></a>Use Case Scenario - Step Engine <img src="../../../Resources/Images/shoptype/B2B_Shop.png" /> <img src="../../../Resources/Images/shoptype/B2C_Shop.png" /> <img src="../../../Resources/Images/shoptype/MasterSuite.png" /> <img src="../../../Resources/Images/shoptype/Demoshop.png" /></h1>
        <p>Below you can see an example of configuration for the checkout process, containing two steps: an entry step and a success step.</p>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Click to expand the code sample</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre><code class="language-PHP line-numbers">&lt;?php
namespace Pyz\Yves\Checkout;

use Pyz\Yves\Checkout\Form\FormFactory;
use Pyz\Yves\<MadCap:annotation MadCap:createDate="2018-09-11T13:45:01.4526257+03:00" MadCap:creator="oksana.karasyova" MadCap:initials="OK" MadCap:comment="confirm whether the code is relevant for Suite" MadCap:editor="oksana.karasyova" MadCap:editDate="2018-09-11T13:45:22.7100725+03:00">Checkout</MadCap:annotation>\Plugin\Provider\CheckoutControllerProvider;
use Pyz\Yves\Application\Plugin\Provider\ApplicationControllerProvider;
use Spryker\Yves\Kernel\AbstractFactory;

class CheckoutFactory extends AbstractFactory
{

    /**
     * @return \Spryker\Yves\StepEngine\Process\StepEngine
     */
    public function createCheckoutProcess()
    {
        return $this-&gt;createStepEngine(
            $this-&gt;createStepCollection()
        );
    }

    /**
     * @param \Spryker\Yves\StepEngine\Process\StepCollectionInterface $stepCollection
     *
     * @return \Spryker\Yves\StepEngine\Process\StepEngine
     */
    public function createStepEngine(StepCollectionInterface $stepCollection)
    {
        return new StepEngine($stepCollection, $this-&gt;createDataContainer());
    }

    /**
     * @return \Spryker\Yves\Checkout\DataContainer\DataContainer
     */
    protected function createDataContainer()
    {
        return new DataContainer($this-&gt;getCartClient());
    }

    /**
     * @return \Spryker\Yves\StepEngine\Process\StepCollectionInterface
     */
    public function createStepCollection()
    {
        $stepCollection = new StepCollection(
            $this-&gt;getUrlGenerator(),
            CheckoutControllerProvider::CHECKOUT_ERROR
        );

        $stepCollection
            -&gt;addStep($this-&gt;createEntryStep())
            -&gt;addStep($this-&gt;createSuccessStep());

        return $stepCollection;
    }

    /**
     * @return \Pyz\Yves\Checkout\Process\Steps\EntryStep
     */
    protected function createEntryStep()
    {
        return new EntryStep(
            CheckoutControllerProvider::CHECKOUT_INDEX,
            ApplicationControllerProvider::ROUTE_HOME
        );
    }

    /**
     * @return \Pyz\Yves\Checkout\Process\Steps\SuccessStep
     */
    protected function createSuccessStep()
    {
        return new SuccessStep(
            CheckoutControllerProvider::CHECKOUT_SUCCESS,
            ApplicationControllerProvider::ROUTE_HOME
        );
    }

    /**
     * @throws \Spryker\Yves\Kernel\Exception\Container\ContainerKeyNotFoundException
     *
     * @return \Spryker\Client\Cart\CartClientInterface
     */
    protected function getCartClient()
    {
        return $this-&gt;getProvidedDependency(CheckoutDependencyProvider::CLIENT_CART);
    }

}</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <ul>
            <li class="bullet_list"><a href="step-engine-workflow.htm">Step Engine Workflow</a>
            </li>
            <li class="bullet_list"><a href="step-engine-define-step.htm">Defining a Step - Step Engine</a>
            </li>
            <li class="bullet_list"><a href="step-engine-breadcrumb.htm">Breadcrumb Navigation - Step Engine</a>
            </li>
            <li class="bullet_list"><a href="step-engine.htm">About Step Engine</a>
            </li>
        </ul>
    </body>
</html>