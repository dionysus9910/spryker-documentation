<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="" MadCap:conditions="Spryker.B2B,Spryker.B2C,Spryker.DemoShop,Spryker.ShopSuite">
    <head>
    </head>
    <body>
        <h1><a name="Defining"></a>Defining a Step - Step Engine <img src="../../../Resources/Images/shoptype/B2B_Shop.png" /> <img src="../../../Resources/Images/shoptype/B2C_Shop.png" /> <img src="../../../Resources/Images/shoptype/MasterSuite.png" /> <img src="../../../Resources/Images/shoptype/Demoshop.png" /></h1>
        <p>When adding a new step, you must implement the <var>StepInterface</var>.</p>
        <p>The <var>StepInterface</var> defines all the methods that <var>StepEngine</var> needs when executing a step:</p>
        <ul>
            <li class="bullet_list"><var>preCondition()</var> - here you define the requirements for the step to get executed</li>
            <li class="bullet_list"><var>requireInput()</var> - here you define if the step requires user input (e.g. registration data)</li>
            <li class="bullet_list"><var>execute()</var> - the logic that gets executed when running the step</li>
            <li class="bullet_list"><var>postCondition()</var> - checks if the step can be considered finished, after execution</li>
            <li class="bullet_list"><var>getStepRoute()</var> - the route that corresponds to the step (e.g. <var>customer-step-route</var> will be transformed to <var>/customer/registration</var>)</li>
            <li class="bullet_list"><var>getEscapeRoute()</var> - redirect URL for when the <var>preCondition()</var> is not satisfied (this is usually the previous step URL)</li>
            <li class="bullet_list"><var>getTemplateVariables()</var> - within this method you can pass additional template variables to the view</li>
        </ul>
        <p>When a step needs to redirect to an external URL, you can use the <var>StepWithExternalRedirectInterface</var>. The <var>StepCollectionInterface::getNextUrl()</var> checks if an a external redirect URL is set and returns it.</p>
        <p>In some cases you may need to redirect the user after <var>StepInterface::execute()</var> to another route than the defined one. For this purpose you need to use <var>StepWithPostConditionErrorRouteInterface</var>.</p>
        <p>The StepCollectionInterface::getNextUrl() checks if a post condition error route was set and returns the URL for it.</p>
        <p><strong>See also:</strong>
        </p>
        <ul>
            <li class="bullet_list"><a href="step-engine-workflow.htm">Step Engine Workflow</a>
            </li>
            <li class="bullet_list"><a href="step-engine-use-case-scenario.htm">Use Case Scenario - Step Engine</a>
            </li>
            <li class="bullet_list"><a href="step-engine-breadcrumb.htm">Breadcrumb Navigation - Step Engine</a>
            </li>
            <li class="bullet_list"><a href="step-engine.htm">About Step Engine</a>
            </li>
        </ul>
    </body>
</html>