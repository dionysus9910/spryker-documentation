<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Top_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../" data-mc-has-content-body="True" data-mc-conditions="ReleaseVersions.2019-03" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Migration and Integration|Silex Replacement">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../Skins/Favicons/browserconfig.xml" />
        <meta name="description" content="Now, instead of using the &quot;Pimple Container&quot; class, Spryker is going to implement its own Continer since the original container is widely used by the Silex Microframework we are currently refactoring out. The Continer is used with services like Twig and Plugin stacks. The article contains information on adding services, checking if they are added, removing or extending them. Troubleshooting information is included too." />
        <link rel="apple-touch-icon" sizes="180x180" href="../Skins/Favicons/apple-touch-icon.png" />
        <link rel="shortcut icon" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="96x96" href="../Skins/Favicons/favicon-96x96.png" />
        <link rel="icon" sizes="32x32" href="../Skins/Favicons/favicon-32x32.png" />
        <link rel="icon" sizes="16x16" href="../Skins/Favicons/favicon-16x16.png" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>Container | Spryker</title>
        <!-- Google Tag Manager -->
        <script>/* <![CDATA[ */(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-NP24S2');/* ]]> */</script>
        <!-- End Google Tag Manager -->
        <script>/* <![CDATA[ */
			var s = document.createElement("script");
			s.type = "text/javascript";
			s.src = "https://www.googletagmanager.com/gtag/js?id==UA-56589105-4";
			document.getElementsByTagName('head').item(0).appendChild(s);
		/* ]]> */</script>
        <script>/* <![CDATA[ */
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());
			gtag('config', 'UA-56589105-4');
		/* ]]> */</script>
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../Skins/Fluid/stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../Skins/Fluid/stylesheets/styles.css" rel="stylesheet" />
        <link href="../Skins/Fluid/stylesheets/tablet.css" rel="stylesheet" />
        <link href="../Skins/Fluid/stylesheets/mobile.css" rel="stylesheet" />
        <link href="../resources/stylesheets/perfect-scrollbar.css" rel="stylesheet" />
        <link href="../resources/stylesheets/prism.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.previous-topic-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/navigate-previous.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/navigate-next.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.print-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/printer.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.expand-all-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/expand.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.button.collapse-all-button
{
	-pie-background: url('../Skins/Default/Stylesheets/Images/collapse.png') no-repeat center center, linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../resources/scripts/PIE-no-motw.htc');
}

</style>
        <link href="../resources/stylesheets/mainstyles.css" rel="stylesheet" />
        <link href="../resources/tablestyles/patternedrows2.css" rel="stylesheet" />
        <script src="../resources/scripts/custom.modernizr.js">
        </script>
        <script src="../resources/scripts/jquery.min.js">
        </script>
        <script src="../resources/scripts/require.min.js">
        </script>
        <script src="../resources/scripts/require.config.js">
        </script>
        <script src="../resources/scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../resources/scripts/plugins.min.js">
        </script>
        <script src="../resources/scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="small" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../home.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search the Academy" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container" data-mc-content-body="True">
                                <!-- Google Tag Manager (noscript) -->
                                <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NP24S2" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                </noscript>
                                <!-- End Google Tag Manager (noscript) -->
                                <div class="search-container">
                                    <form class="search" action="#">
                                        <div class="search-bar search-bar-container needs-pie _Skins_SearchTopics mc-component">
                                            <input class="search-field needs-pie" type="search" placeholder="Search" />
                                            <div class="search-filter-wrapper">
                                                <div class="search-filter">
                                                    <div class="search-filter-content">
                                                        <ul>
                                                            <li>All Files</li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="search-submit-wrapper" dir="ltr">
                                                <div class="search-submit" title="Search">
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                <div class="row collapse">
                                    <div class="top-bar">
                                        <div class="breadcrumbs-block">
                                            <div class="nocontent">
                                                <div class="MCBreadcrumbsBox_0 breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                                </div>
                                            </div>
                                        </div>
                                        <div>
                                        </div>
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie _Skins_SearchHome mc-component">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    <div class="topic-layout">
                                        <div>
                                            <div class="side-menu">
                                                <div data-sticky-container="" id="3Zjn7qDfbUqeu-ppUmTCPA">
                                                    <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="3Zjn7qDfbUqeu-ppUmTCPA:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                        <ul class="nocontent menu _Skins_SideMenu mc-component" data-mc-is-context-sensitive="True" data-mc-linked-toc="Data/Tocs/master.js" data-mc-side-menu="True" data-mc-max-depth="1" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div>
                                            <div class="side-menu">
                                                <div class="toolbar-wrapper">
                                                    <div class="widget-github js-widget-github"><a class="widget-github-link js-widget-github-link" href="https://github.com/spryker/spryker-documentation" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26"><path d="M13.5 0C6.057 0 0 6.057 0 13.5c0 5.888 3.791 10.905 9.058 12.745a.463.463 0 0 0 .258.088c1.316.43 2.724.667 4.184.667C20.943 27 27 20.943 27 13.5S20.943 0 13.5 0zm0 .931c6.93 0 12.569 5.639 12.569 12.569 0 5.428-3.459 10.061-8.287 11.818a1.903 1.903 0 0 1-.092-.527v-2.446c0-.975-.477-2.037-.946-2.75 2.584-.436 5.537-1.776 5.537-6.779 0-1.37-.429-2.58-1.275-3.598.186-.611.415-1.9-.225-3.52a.47.47 0 0 0-.291-.272c-.13-.04-1.326-.35-3.806 1.277a12.921 12.921 0 0 0-6.36 0c-2.481-1.63-3.68-1.319-3.809-1.277a.47.47 0 0 0-.29.273C5.582 7.319 5.811 8.607 6 9.218c-.85 1.018-1.279 2.227-1.279 3.598 0 4.957 2.9 6.323 5.463 6.778-.322.407-.66.934-.81 1.47-.661.184-2.018.19-2.929-1.37-.032-.06-.829-1.475-2.4-1.584-.25.002-.882.042-1.035.525-.169.537.424.944.679 1.117l.058.034c.029.015.707.371 1.213 1.644.105.333 1.03 2.84 4.353 2.399.002.367 0 .552-.004.7v.26c0 .15-.045.378-.096.525C4.386 23.558.931 18.924.931 13.5.931 6.57 6.57.931 13.5.931zm6.51 5.375c.5 1.471.158 2.537.035 2.839a.468.468 0 0 0 .089.49c.805.883 1.214 1.952 1.214 3.181 0 4.72-2.796 5.666-5.535 5.97a.464.464 0 0 0-.253.815c.368.314 1.199 1.68 1.199 2.744v2.446c0 .009.001.414.134.809a12.513 12.513 0 0 1-6.792-.002c.135-.396.139-.802.139-.81l.001-.248c.002-.211.006-.497 0-1.266a.473.473 0 0 0-.174-.362.47.47 0 0 0-.391-.09c-3.126.681-3.802-1.576-3.828-1.67l-.016-.047c-.448-1.135-1.037-1.713-1.388-1.975.759.267 1.182 1.007 1.193 1.024 1.231 2.107 3.264 2.162 4.328 1.685a.463.463 0 0 0 .27-.36c.095-.665.826-1.545 1.196-1.87a.464.464 0 0 0 .136-.488.461.461 0 0 0-.39-.324c-2.73-.31-5.524-1.266-5.524-5.98 0-1.228.41-2.3 1.219-3.181a.464.464 0 0 0 .087-.491c-.124-.302-.467-1.364.031-2.837.396.013 1.362.182 2.988 1.286.112.076.256.1.387.063.973-.27 2.058-.416 3.135-.421 1.08.005 2.166.15 3.14.421.131.037.273.013.386-.063 1.635-1.11 2.6-1.275 2.984-1.288z" /></svg></a>
                                                    </div>
                                                    <div class="buttons popup-container clearfix topicToolbarProxy _Skins_TopicToolbar mc-component nocontent" style="mc-topic-toolbar-items: PreviousTopic NextTopic Print ExpandAll CollapseAll;">
                                                        <div class="button-group-container-left">
                                                            <button class="button needs-pie previous-topic-button" title="Navigate previous">
                                                                <img src="../Skins/Default/Stylesheets/Images/transparent.gif" alt="previous topic" />
                                                            </button>
                                                            <button class="button needs-pie next-topic-button" title="Navigate next">
                                                                <img src="../Skins/Default/Stylesheets/Images/transparent.gif" alt="next topic" />
                                                            </button>
                                                            <button class="button needs-pie print-button" title="Print">
                                                                <img src="../Skins/Default/Stylesheets/Images/transparent.gif" alt="print" />
                                                            </button>
                                                            <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                                <img src="../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="js-anchorer main-content">
                                                    <h1>Container</h1>
                                                    <h2>What is a Container?</h2>
                                                    <p>A Container is a class which holds one or more object collections or definitions. It's important to know that almost everything that is accessible through the Container should only be instantiated when it is requested. It's not as important for static values like <var>isDebugMode</var> as it is important for expensive instantiations.</p>
                                                    <p>Previously, Spryker has been using the <var>pimple/pimple</var> library which offers the "Pimple Container" class. This class is widely used in Spryker Commerce OS by the Silex Microframework we are currently refactoring out.</p>
                                                    <p>The Container is used to add services and provide access to those services to other application plugins. The exemplary services are Twig or Symfony components like Security, Form etc. To be able to configure or change the services easily, they are added to the applications as a part of "Service Providers". The previously used <var>Silex\Application</var> extends the Pimple class which makes it a Container too.</p>
                                                    <p>To be able to refactor out the abandoned Silex code, we added our own Container which implements the PSR-11 interface. The Spryker Container still supports the Silex way of accessing services through the <var>ArrayAccess</var> interface.</p>
                                                    <h2>Where is the Container used?</h2>
                                                    <p>Spryker uses several Container instances to separate the accessibility to services. The first Container is used for the services like Twig which are added to the application through the <var>Spryker\Shared\ApplicationExtension\Dependency\Plugin\ApplicationPluginInterface</var>.</p>
                                                    <p>The second Container is used on a per-Module basis. Each Module creates its own Container instance and can add its own dependencies to the Container. Usually, those dependencies are Plugin stacks.</p>
                                                    <h2>How to use the Container?</h2>
                                                    <p>The Container implements the PSR-11 <a href="https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-11-container.md">interface</a>. On top of it, we added the following additional methods:</p>
                                                    <table style="width: 100%;mc-table-style: url('../resources/tablestyles/patternedrows2.css');" class="TableStyle-PatternedRows2" cellspacing="0">
                                                        <col style="width: 239px;" class="TableStyle-PatternedRows2-Column-Regular" />
                                                        <col class="TableStyle-PatternedRows2-Column-Regular" />
                                                        <thead>
                                                            <tr class="TableStyle-PatternedRows2-Head-Header1">
                                                                <td style="font-weight: bold;" class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Method</td>
                                                                <td style="font-weight: bold;" class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Description</td>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr class="TableStyle-PatternedRows2-Body-LightRows">
                                                                <td style="font-weight: normal;" class="TableStyle-PatternedRows2-BodyE-Regular-LightRows"><var>set()</var>
                                                                </td>
                                                                <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Adds services to the Container</td>
                                                            </tr>
                                                            <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                                                                <td style="font-weight: normal;" class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows"><var>setGlobal()</var>
                                                                </td>
                                                                <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Adds global services to the Container</td>
                                                            </tr>
                                                            <tr class="TableStyle-PatternedRows2-Body-LightRows">
                                                                <td style="font-weight: normal;" class="TableStyle-PatternedRows2-BodyE-Regular-LightRows"><var>configure()</var>
                                                                </td>
                                                                <td style="font-weight: normal;" class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Configures existing services (e.g. makes them global, adds aliases)</td>
                                                            </tr>
                                                            <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                                                                <td style="font-weight: normal;" class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows"><var>extend()</var>
                                                                </td>
                                                                <td style="font-weight: normal;" class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Extends existing services</td>
                                                            </tr>
                                                            <tr class="TableStyle-PatternedRows2-Body-LightRows">
                                                                <td style="font-weight: normal;" class="TableStyle-PatternedRows2-BodyB-Regular-LightRows"><var>remove()</var>
                                                                </td>
                                                                <td style="font-weight: normal;" class="TableStyle-PatternedRows2-BodyA-Regular-LightRows">Removes added services</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    <div class="note">Although the Container still implements the <var>ArrayAccess</var> interface, it is not recommended to use it anymore. This was added for backward compatibility only.</div>
                                                    <h3>Add a service</h3>
                                                    <p>To add a service, you need to pass the service ID and a callback to the <var>set()</var> method.</p><pre><code class="language-PHP line-numbers">
$container = $container-&gt;set('your service identifier', function () {
    return new ExpensiveThing(); // You can return whatever you require
});</code></pre>
                                                    <h3>Create service aliases</h3>
                                                    <p>For backward compatibility, it is possible to configure one or more aliases for a service. Later on, aliases can also be used for renaming of service identifiers without breaking the code which makes use them.</p>
                                                    <p>Example with a typo in the identifier of the added service:</p><pre><code class="language-PHP line-numbers">
&lt;?php
 
// Added in one of the ApplicationPlugins
// notice the typo in the id of this service
$container-&gt;set('sevrice identifier', function () {
    return 'foo';
});
 
// In another ApplicationPlugin, the wrong id is used
$service = $container-&gt;get('sevrice identifier');</code></pre>
                                                    <p>To keep backward compatibility when the wrong key is fixed, you can now use the alias feature:</p><pre><code class="language-PHP line-numbers">
&lt;?php
 
// Added in one of the ApplicationPlugin's
// notice the type in the id for the service is fixed
$container-&gt;set('service identifier', function () {
    return 'foo';
});
 
// This line adds an alias to the id with the typo, that way the id with the typo can still be used
$container-&gt;configure('service identifier', ['alias' =&gt; 'sevrice identifier']);
 
// This will now return the service with the id `service identifier` by it's configured alias.
$service = $container-&gt;get('sevrice identifier');
 
// Will work as normal
$service = $container-&gt;get('service identifier');</code></pre>
                                                    <p>It is also possible to add more than one alias at a time. To achieve this, an array of aliases is used in the configuration:</p><pre><code class="language-PHP line-numbers">
&lt;php
 
$container-&gt;set('service identifier', function () {
    return 'foo';
});
 
$container-&gt;configure('service identifier', [
    'alias' =&gt; [
        'alias 1',
        'alias 2',
    ],
]);</code></pre>
                                                    <h3>Check if a service was added</h3>
                                                    <p>You should always check if a service exists in the container by using the <var>has()</var> method.</p>
                                                    <p>Example:</p><pre><code class="language-PHP line-numbers">
if ($container-&gt;has('your service identifier')) {
    // service exists
}</code></pre>
                                                    <h3>Get a service</h3>
                                                    <p>To retrieve a service, you should always check if the service exists by using the <var>has()</var> method prior to using the <var>get()</var> method.</p>
                                                    <p>Example:</p><pre><code class="language-PHP line-numbers">
if ($container-&gt;has('your service identifier')) {
    $yourService = $container-&gt;get('your service identifier');
    $yourService-&gt;foo();
}</code></pre>
                                                    <h3>Remove a service</h3>
                                                    <p>In some circumstances, you may want to remove a service from the container again. You can do this with the <var>remove()</var> method.</p>
                                                    <p>Example:</p><pre><code class="language-PHP line-numbers">
if ($container-&gt;has('your service identifier')) {
    $container-&gt;remove('your service identifier');
}</code></pre>
                                                    <h3>Extend a service</h3>
                                                    <p>Whenever you need to extend a service without loading it, you can use the <var>extend()</var> method. It's very important to return the extended service from your callback.</p>
                                                    <p>Example:</p><pre><code class="language-PHP line-numbers">
if ($container-&gt;has('your service identifier')) {
    $container-&gt;extend('your service identifier', function (YourServiceInstance $yourServiceInstance) {
        $yourServiceInstance-&gt;addFoo('bar');
         
        return $yourServiceInstance;
    });
}</code></pre>
                                                    <p>With the code, you can alter your service without loading it. Your service will only be loaded when it is requested from the Container by using <var>Container::get()</var>.</p>
                                                    <h2>Global Services</h2>
                                                    <h3>Access an infrastructural service in a module's Dependency Provider</h3>
                                                    <p>In some cases, it is required to get access to an Application Plugin from a module. To achieve this, some services are marked as global and can be retrieved from the Dependency Provider of the modules through their Container.</p>
                                                    <p>For example, the Form Application Plugin brings in the Symfony Form Component used in all modules where a form needs to be displayed. To avoid building this service in each module where forms are used, services can be added to the Container with the <var>setGlobal</var> method to be globally available in the modules' Dependency Providers:</p><pre><code class="language-PHP line-numbers">
namespace Spryker\Zed\Module\Communication\Plugin\Application;
 
class FormApplicationPlugin extends AbstractPlugin implements ApplicationPluginInterface
{
    public const SERVICE_FORM = 'form.factory';
     
    public function provide(ContainerInterface $container): ContainerInterface
    {
        $container-&gt;setGlobal(static::SERVICE_FORM, function () {
            $form = ...;
            ...
            return $form;
        });
    }
}</code></pre>
                                                    <p>In the Dependency Provider of your module, you need to add a unique constant. It will allow you to use the constant as a key instead of the key provided by the service when referring to it in your Factory:</p><pre><code class="language-PHP line-numbers">
namespace Spryker\Zed\Module;
 
use Spryker\Shared\Form\Plugin\Application\FormApplicationPlugin;
 
class ModuleDependencyProvider extends AbstractBundleDependencyProvider
{
    public const SERVICE_FORM = FormApplicationPlugin::SERVICE_FORM;
 
    ...
}</code></pre>
                                                    <p>Then, in your Factory, retrieve the dependency as usual:</p><pre><code class="language-PHP line-numbers">
namespace Spryker\Zed\Module\Communication;
 
use Spryker\Zed\Module\ModuleDependencyProvider;
 
class ModuleCommunicationFactory extends AbstractCommunicationFactory
{
    public function getFormService(): FormFactoryInterface
    {
        return $this-&gt;getProvidedDependency(ModuleDependencyProvider::SERVICE_FORM);
    }
}</code></pre>
                                                    <h2>Troubleshooting</h2>
                                                    <p><pre>FrozenServiceException - The service "your service identifier" is marked as frozen an can't be extended at this point.</pre>
                                                    </p>
                                                    <p>In case you try to extend a service which has been already requested from the Container, you will see this exception. A debugger will help you to find a solution. Check which code causes this error by setting a breakpoint in the Container where this exception is thrown. Most likely, you will spot the issue right away. If not, set an additional conditional breakpoint in the first line of the <var>Container::get()</var> method. The condition here should look like <var>$id === 'your service identifier'</var>. It instructs the debugger to stop only when the service identifier which brings the exception is retrieved from the Container. Now check the code which wants to retrieve the service and change it in a way that it is called only after the <var>Container::extend()</var> has been executed.</p>
                                                    <p style="font-weight: bold;">&#160;</p>
                                                    <p style="font-weight: bold;">See also:</p>
                                                    <ul>
                                                        <li style="font-weight: bold;" value="1"><a href="application-201903.htm" style="font-weight: normal;">Application</a>
                                                        </li>
                                                        <li value="2"><a href="silex-replacement-201903.htm">Silex Replacement</a>
                                                        </li>
                                                    </ul>
                                                    <p>&#160;</p>
                                                    <p><i>Last review date: Feb 19, 2019</i>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div><a class="scroll-top js-scroll-top" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill="#FFF" fill-rule="nonzero" d="M11.82 5.22a.54.54 0 0 1 0 .806.636.636 0 0 1-.852 0L6.607 1.937v13.49a.587.587 0 0 1-.602.573c-.336 0-.611-.258-.611-.573V1.937L1.04 6.026a.647.647 0 0 1-.86 0 .54.54 0 0 1 0-.807L5.573.163a.636.636 0 0 1 .852 0L11.82 5.22z" /></svg></a>
                                <script>/* <![CDATA[ */
			function createGithubUrl() {
			var GITHUB_CONTENT_PATH = '/blob/master/public';
			var link = document.querySelector('.js-widget-github-link');
			var href =
			link.getAttribute('href')
			+ GITHUB_CONTENT_PATH
			+ window.location.pathname;
			link.setAttribute('href', href);
			}
			createGithubUrl();
		/* ]]> */</script>
                                <script>/* <![CDATA[ */
			requirejs.config({
				appDir: '',
				paths: {
					'clipboard': ['https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.1/clipboard.min']
					
				}
			});
			require(['clipboard'], function(Clipboard) {
				console.log(Clipboard);
				window.Clipboard = Clipboard;
			});
		/* ]]> */</script>
                                <script src="../resources/scripts/perfect-scrollbar.js">
                                </script>
                                <script src="../resources/scripts/script.js">
                                </script>
                                <script src="../resources/scripts/prism.js">
                                </script>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>
