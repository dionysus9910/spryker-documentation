<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="General.OldOutdated">
    <head><title>Spryk | Spryker</title>
        <meta name="description" content="This article describes how to install and use Spryker's new code generation tool that enables you to avoid tedious work by writing boilerplate code for you." />
    </head>
    <body>
        <h1>Spryk</h1>
        <p>Spryk is a code generation tool for Spryker OS that ships as a part of the SDK product.</p>
        <p>To follow the Spryker's clean and complex architecture, you may need to write a lot of repetitive, boilerplate code. To avoid that tedious work, you can use Spryk, which will automatically generate and modify the required files according to the specified definitions. The definitions are implemented as a set of templates with placeholders to fill out during the execution of the tool, and small pieces of code that are created or modified for each specific definition. The generated code is available for further modification by a developer.</p>
        <h2>Definition Types</h2>
        <p>Currently, we support the following definition types:</p>
        <ul>
            <li><b>Template definitions.</b> A template definition adds a new file to your file system and uses Twig as a render engine, which enables you to create files from templates with placeholders. A template definition will at least need a template argument defined. The argument tells Spryk which template to use. Template definitions can have as many arguments as needed.</li>
            <li><b>Structure definitions</b>. A structure definition allows you to define a directory structure. For example, the CreateSprykerModule definition contains the description of the created directories. The main argument of a structure definition is directories, which allows you to add a list of directories to be created.</li>
            <li><b>Method definitions.</b> A method definition is able to add methods to a specified target, e.g. Spryker\Zed\FooBar\Business\FooBarFacade. This type of definitions needs more arguments to do their job.</li>
        </ul>
        <h2>Installation</h2>
        <p>1. Add this private repository to your project's composer.json:</p><pre><code class="language-PHP line-numbers">"repositories": [
    ...
    {
        "type": "git",
        "url": "git@github.com:spryker/spryk.git"
    }
    ...
],</code></pre>
        <p>2. Install Spryk by running:</p><pre><code class="language-PHP line-numbers">composer require --dev spryker/spryk</code></pre>
        <h2>How to use it</h2>
        <p>At this moment, there are two interfaces to run the definitions: <b>Spryk Console</b> and <b>SprykGUI</b>..</p>
        <h3>Spryk Console</h3>
        <p>The Spryk Console is based on the Symfony's Console component. To start working with it, add it to your <b>ConsoleDependencyProvider</b>. Currently, there are two commands available: <b>SprykDumpConsole</b> and <b>SprykRunConsole</b>. To get the list of all of the definitions, run:</p><pre><code class="language-PHP line-numbers">vendor/bin/console spryk:dump</code></pre>
        <p>To execute one definition, run:</p><pre><code class="language-PHP line-numbers">vendor/bin/console spryk:run {SPRYK NAME}</code></pre>
        <p>When you run a definition, the console will ask you to provide all the needed arguments.</p>
        <p>It is also possible to print all possible arguments to the console by using the <b>--{argument name}={argument value}</b> key.</p>
        <h3>SprykGUI</h3>
        <p>This is a Graphical User Interface built inside the Zed application. To install it, run:</p><pre><code class="language-PHP line-numbers">composer require --dev spryker/spryk-gui</code></pre>
        <p>Once SprykGUI is installed, you can navigate to it through Zed. You will find the list of all the available definitions, and after you have clicked on one of them, the form where you can enter the arguments will appear.</p>
        <h2>How to create a definition</h2>
        <p>As the whole tool is covered by tests, you should also start to create your own definition by adding a test. To add only a new definition configuration, start by adding an integration test. You also need to add a name of the definition you want to test (e.g. <b>AddMySuperNiceFile</b>), and the assertion to have this file created after you have executed the test.</p>
        <p>After this is all done, run the integration tests with the following command and see the test fail:</p><pre><code class="language-PHP line-numbers">vendor/bin/codecept run Integration -g {YOUR TEST GROUP}</code></pre>
        <p>You will get a message that the definition was not found by the given name, so add the definition file for your new definition to <var>spryker/spryk/config/spryk/spryks</var>. After that, re-run the tests.</p>
        <p>What comes next depends on the chosen definition type. If you have selected the template definition, then most likely you will see an error indicating that the defined template cannot be found. In this case, add your template to <var>spryker/spryker/config/spryk/templates</var> and re-run the tests — now they have to be green.</p>
        <h2>See also</h2>
        <ul>
            <li><a href="code-generator.htm">Code generator</a>
            </li>
        </ul>
        <p>&#160;</p>
        <p><i>Last review date: Jan 22, 2019</i> <MadCap:conditionalText MadCap:conditions="General.Hidden Comment">by Dmitry Beirak</MadCap:conditionalText></p>
    </body>
</html>