<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="" MadCap:conditions="General.OldOutdated">
    <head>
        <link href="../Resources/TableStyles/PatternedRows.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body>
        <h1><a name="top"></a>Atomic Releases</h1>
        <h2><MadCap:variable name="General.ProductName" /> Release Process</h2>
        <p> <MadCap:variable name="General.ProductName" /> comprises more than 100 modules that offer a large collection of functionality. </p>
        <p>Our Demoshop is project archetype that demonstrates how the modules are integrated.</p>
        <h3>But what happens if you don’t need all the modules?</h3>
        <p>The problem with many systems is that they force you to download the entire package together with its dependencies, even if you don’t need everything. When you update to a newer version you are forced to update components you don’t need.</p>
        <p>Let’s say you don’t need to use in your project our CMS module because you want to integrate your own solution for content management. Will you need to download also the source code of the modules that you don’t need? Do you have to get updates also for the components that you don’t use?</p>
        <p><strong>The answer is no</strong>.</p>
        <p><MadCap:variable name="General.ProductName" /> offers you great flexibility through its release process.</p>
        <p>Each module has its own repository. You are free to choose which modules you want to use from our Operating System. In the root of each module you’ll find a <var>composer.json</var> file that contains the dependencies for that module. There is no need to actively track dependencies as they are automatically loaded.</p>
        <p>We use semantic versioning in our release project, so you can easily configure what kind of updates you want to receive from us. This helps you avoid the support the stability to your project even during updates.</p>
        <h2>Git Subtree Split</h2>
        <p>We are using the subtree split functionality from Git so that we have separated repositories for each component. These separated repositories are updated once a new release is made for that component.</p>
        <p>Every module contains a <var>composer.json</var> that defines the required dependencies and their version according to the module’s version. Below you can see an example of a composer.json file from one of our components:</p><pre><code class="language-PHP line-numbers">{
  "name": "spryker/price",
  "autoload": {
    "psr-0": {
      "Spryker": "src/",
      "Acceptance": "tests/",
      "Functional": "tests/",
      "Integration": "tests/",
      "Unit": "tests/",
      "YvesUnit": "tests/"
    }
  },
  "require": {
    "spryker/application": "^2.0.0",
    "spryker/installer": "^2.0.0",
    "spryker/kernel": "^2.0.0",
    "spryker/library": "^2.0.0",
    "spryker/messenger": "^2.0.0",
    "spryker/product": "^2.0.0",
    "spryker/touch": "^2.0.0",
    "spryker/twig": "^2.0.0",
    "spryker/config": "^2.0.0",
    "spryker/silex": "^2.0.0"
  },
  "description": "price bundle",
  "license": "proprietary",
  "minimum-stability": "dev",
  "prefer-stable": true,
  "extra": {
    "branch-alias": {
      "dev-master": "2.0.x-dev"
    }
  }
}

</code></pre>
        <p>In the project level's <var>composer.json</var> file you can specify the components that you want to use along with their versions. </p>
        <p>More about versioning see, <MadCap:xref href="#Versioni">Versioning</MadCap:xref>.</p>
        <h3>Why use a subtree split?</h3>
        <p><strong>Customers</strong>:</p>
        <ul>
            <li class="bullet_list">avoid the update stress</li>
            <li class="bullet_list">freedom to update specific modules</li>
        </ul>
        <p><strong><MadCap:variable name="General.ProductName" /> development team</strong>:</p>
        <ul>
            <li class="bullet_list">develop as we used to</li>
        </ul>
        <p><strong>Release Process</strong>
        </p>
        <ul>
            <li class="bullet_list">easy to plan</li>
            <li class="bullet_list">easy to maintain</li>
            <li class="bullet_list">easy to deploy</li>
        </ul>
        <h2><a name="Versioni"></a>Versioning</h2>
        <p><MadCap:variable name="General.ProductName" /> uses semantic versioning in order to solve module dependencies. Semantic versioning allows you to predict if after an upgrade to a new version your project it’s still going to work as expected.</p>
        <p>By using this notation for the released versions, we don’t force you to upgrade to a new version that would cause your application to break and as a consequence, effort in tackling the possible issues that might appear.</p>
        <p>You can choose to get updates that include only bugfixes or new features. This flexibility on choosing the updates you’ll receive brings stability to your project.</p>
        <p>Module versioning is composed of three numbers: <span style="color: #ff4500;">{BC Break}</span><span style="color: #0000ff;">.{Feature}</span><span style="color: #00ff00;">.{Patch}</span>.</p>
        <p>Given this version notation, by incrementing the:</p>
        <ul>
            <li class="bullet_list"><span style="color: #ff4500;">{BC Break} </span>- the new version contains <a href="../API/definition-api.htm">incompatible API changes</a></li>
            <li class="bullet_list"><span style="color: #0000ff;">{Feature}</span> - the new version contains new feature that does not break the backwards compatibility</li>
            <li class="bullet_list"><span style="color: #00ff00;">{Patch}</span> - the new version contains backwards compatible bug fixes.</li>
        </ul>
        <p>You can read more about semantic versioning <a href="http://semver.org/" target="_blank">here</a> .</p>
        <p>We defined all internal APIs <a href="../API/definition-api.htm">here</a>.</p>
        <h2>Solving Dependencies</h2>
        <p>A dependency can change without breaking backwards compatibility. You want to be able to get these updates, since these updates can include bugfixes or new features. This can be easily achieved through the way you configure your dependencies.</p>
        <h3>Caret vs Tilde</h3>
        <p>To upgrade the dependencies in your project, you can use the significant release operators: <strong>tilde(~)</strong> and <strong>caret(^)</strong>.</p>
        <p>Caret(^) operator is recommended to be used for internal dependencies.</p>
        <p>By using <var>^</var> you always allow non-breaking updates( the first number of the version will not change).</p>
        <table class="TableStyle-PatternedRows" style="mc-table-style: url('../Resources/TableStyles/PatternedRows.css'); margin-left: 0; margin-right: auto;" cellspacing="0">
            <col class="TableStyle-PatternedRows-Column-Regular" />
            <col class="TableStyle-PatternedRows-Column-Regular" />
            <thead>
                <tr class="TableStyle-PatternedRows-Head-Header1">
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Version	</th>
                    <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">
                        Compatible Versions
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                        <p>^1</p>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                        <p>	&gt;=1.0.0 &lt;2.0.0</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                        <p>^1.2</p>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                        <p>&gt;=1.2.0 &lt;2.0.0</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">
                        <p>^1.2.3</p>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">
                        <p>&gt;=1.2.3 &lt;2.0.0</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p><strong>Tilde(~)</strong> operator is recommended to be used for external dependencies (allows upgrading to versions that contain bug fixes only).</p>
        <p>By using <var>~</var> you specify the minimum version you want to use, but you allow the last specified digit to go up.</p>
        <table class="TableStyle-PatternedRows" style="mc-table-style: url('../Resources/TableStyles/PatternedRows.css'); margin-left: 0; margin-right: auto;" cellspacing="0">
            <col class="TableStyle-PatternedRows-Column-Regular" />
            <col class="TableStyle-PatternedRows-Column-Regular" />
            <thead>
                <tr class="TableStyle-PatternedRows-Head-Header1">
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Version	</th>
                    <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">
                        Compatible Versions
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                        <p>~1</p>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                        <p>	&gt;=1.0.0 &lt;2.0.0</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                        <p>~1.2</p>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                        <p>&gt;=1.2.0 &lt;2.0.0</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                        <p>~0.2</p>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                        <p>	&gt;=0.2.0 &lt;0.3.0</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows-BodyB-Regular-DarkerRows">
                        <p>~1.2.3</p>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyA-Regular-DarkerRows">
                        <p>&gt;=1.2.3 &lt;2.0.0</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2>Checking for newer versions<a name="chceking_new_versions"></a></h2>
        <p class="info">You can easily keep track of new module versions using <a href="https://github.com/Soullivaneuh/composer-versions-check" target="_blank">composer-versions-check</a> as add-on for your local composer tool. It will warn you about outdated <MadCap:variable name="General.ProductName" /> module dependencies.</p>
        <p>&#160;</p>
        <p><strong>To install the composer version checker inside your VM</strong>:</p><pre><code class="language-PHP line-numbers">composer global require sllh/composer-versions-check</code></pre>
        <p>After a composer update run, it could then output the following warning to help keep track of upgrades:</p><pre><code class="language-PHP line-numbers">{count} packages are not up to date:

- spryker/{bundle-name} (2.0.2) latest is 3.0.0
...
</code></pre>
        <p>That means you are currently running version 2.0.2 of this module and that a new major version 3.0.0 is available.</p>
        <p>We recommend atomic upgrades in small module packages on a regular basis. This keeps the upgrading efforts at a minimum and makes each upgrade scope easily manageable. Small and regular updates then prevent errors that could happen from too large changes at once.</p>
        <p>Additionally, by doing so you will always benefit from the latest improvements right away.</p>
        <p>Make sure every minor or patch release is applied before upgrading to a major released version. </p>
        <p class="important">Do not  perform any major upgrades without executing this command first:</p><pre><code class="language-PHP line-numbers">composer update "spryker/*"</code></pre>
        <p class="info">To speed up the 	composer update process, use <a href="https://github.com/hirak/prestissimo">this composer tool</a>. After running <var>composer global require hirak/prestissimo</var> the next <var>composer update</var> or <var>composer install</var> command should be way faster for both local development and server deployment.</p>
        <p>Now you can test first that everything is working as expected and only then start a major upgrade.</p>
        <p class="info"><strong>Composer Update</strong>
            <br />Execute this command at least weekly  to assert you have the latest fixes.<br /></p>
    </body>
</html>