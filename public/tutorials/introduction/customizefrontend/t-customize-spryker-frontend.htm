<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="" MadCap:conditions="Spryker.ShopSuite,Spryker.B2C,Spryker.B2B">
    <head><title>Tutorial - Customize Spryker Frontend</title>
    </head>
    <body>
        <h1>Tutorial - Customize Spryker Frontend</h1>
        <p>
            <img src="../../../Resources/Images/shoptype/B2B_Shop.png" />
            <img src="../../../Resources/Images/shoptype/B2C_Shop.png" />
            <img src="../../../Resources/Images/shoptype/MasterSuite.png" />
        </p>
        <p>Spryker frontend&#160;user interface can be customized and extended to meet the needs of your business. You can change the layout, styles and behavior of existing components, as well as create components on your own.</p>
        <p>There are 3 aspects of Spryker user interface that can be extended:</p>
        <ul>
            <li>views, templates and layout of components comprising the frontend&#160;(<i>Twig)</i></li>
            <li>styles&#160;<i>(SASS)</i></li>
            <li>component behavior&#160;<i>(Typescript</i> or&#160;<i>Javascript)</i></li>
        </ul>
        <p>In the following guide, we will review customizing Spryker UI on each of these levels.</p>
        <h2 id="twig">Twig</h2>
        <p>The visual layout of each component, be that a molecule or a whole organism, is defined using Symphony Twig. Twig is a template language for defining the HTML code of pages rendered dynamically. It is a common technology used for building web components, like the ones that comprise Spryker atomic frontend.</p>
        <p class="tip">For more information on Twig basics, see&#160;<a href="https://twig.symfony.com/" target="_blank">Twig Homepage</a>.</p>
        <p>After you integrate Spryker Shop application in your project, all UI components shipped with Spryker will be located in <code>vendor/spryker-shop</code>. The layout of any of them can be overridden on the project level. For this purpose, you need to create a Twig file with your own layout in folder&#160;<code>src/Pyz/Yves</code>. To override the structure of any component, the Twig file name must be the same as the name of the Twig template you want to override, and also the folder structure must replicate the structure of the component you are overriding.</p>
        <p>To extend an existing component template, first, you need to copy the whole Twig you are extending to the project level, and then add your own code to the project-level file. For instance, if you need to add a new component to the&#160;main layout of the whole Shop Suite, you need to copy the layout to your project level, and then make changes to the project-level file. To do this, copy file&#160;<code>page-layout-main.twig</code> to your project level to&#160;<code>src/Pyz/Yves/ShovarpUi/Theme/default/templates/page-layout-main/page-layout-main.twig</code>. Then, make changes as follows:</p>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>page-layout-main.twig</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre><code class="language-Twig line-numbers">{% extends template('page-blank') %}

{%- block class -%}js-page-layout-main__side-drawer-container{%- endblock -%}

{% block body %}
    {% block notifications %}
        {% include organism('notification-area') only %}
    {% endblock %}

    {% block sidebar %}
        {#
            Use a new component
        #}
        {% include organism('new-existing-component-side-drawer') with {
            class: 'is-hidden-lg-xl',
            attributes: {
                'container-selector': 'js-page-layout-main__side-drawer-container',
                'trigger-selector': 'js-page-layout-main__side-drawer-trigger'
            }
        } only %}
    {% endblock %}

    {% block outside %}{% endblock %}

    {% block header %}
        {% embed organism('header') only %}
            {% block mobile %}
                &lt;a href="#" class="link link--alt js-page-layout-main__side-drawer-trigger"&gt;
                    {% include atom('icon') with {
                        modifiers: ['big'],
                        data: {
                            name: 'bars'
                        }
                    } only %}
                &lt;/a&gt;
            {% endblock %}
        {% endembed %}
    {% endblock %}

    &lt;div class="container"&gt;
        {% block pageInfo %}
            &lt;div class="box"&gt;
                {% block breadcrumbs %}
                    {% include molecule('breadcrumb') only %}
                {% endblock %}

                &lt;hr /&gt;

                {% block title %}
                    &lt;h3&gt;{{data.title}}&lt;/h3&gt;
                {% endblock %}
            &lt;/div&gt;
        {% endblock %}

        &lt;main&gt;
            {% block content %}{% endblock %}
        &lt;/main&gt;

        {% block footer %}
                {% include organism('footer') only %}
        {% endblock %}

        {% block copyright %}
            &lt;p class="text-center text-small text-secondary"&gt;
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit.
                &lt;br&gt;Aenean commodo ligula eget dolor. Aenean massa.
                &lt;br&gt;© ACME Company
            &lt;/p&gt;
        {% endblock %}
    &lt;/div&gt;

    {% block icons %}
        {% include atom('icon-sprite') only %}
    {% endblock %}
{% endblock %}</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <p>Let us also review how to extend the Twig template of a molecule. By default, the front page of Spryker Shop displays a list of available products. Each product in the list is displayed by component called <b>product-card</b>. We will add product images to those cards.</p>
        <ol>
            <li>The default implementation of the component is located in the following file:&#160;<code>vendor/spryker-shop/shop-ui/src/SprykerShop/Yves/ShopUi/Theme/default/components/molecules/product-card/product-card.twig</code>. To override it, we need to create the following file in the following folder:&#160;<code>src/Pyz/Yves/ShopUi/Theme/default/components/molecules/product-card/product-card.twig</code>. Now, our Twig on the project level will override the global-level Twig. This means that whenever the&#160;<b>product-card</b> component is used, the file we created will be used instead of the default one. Also, copy the content of the default&#160;<code>product-card.twig</code> file to the project-level Twig to copy the template of the source component.</li>
            <li>
                <p>Now, we need to add the product image to the component. The Twig block enclosed in the <code>{% block content %}</code> tags contains the main content of the component. Let us place product images before it. The block with images looks as follows:</p><pre><code class="language-Twig line-numbers">{% block image %}
    &lt;a href="{{data.url}}"&gt;
        {% include atom('thumbnail') with {
            class: 'js-product-color-group__image-' ~ data.abstractId,
            attributes: {
                alt: data.name,
                src: data.imageUrl,
                title: data.name
            }
        } only %}
    &lt;/a&gt;
{% endblock %}</code></pre>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot>Resulting Twig File</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody><pre><code class="language-Twig line-numbers">{% extends molecule('card') %}

{% define config = {
    name: 'product-card',
    tag: 'article'
} %}

{% define data = {
    name: required,
    abstractId: required,
    url: required,
    imageUrl: required,
    price: required,
    originalPrice: null
} %}

{#
    New content that is different from the original template
#}
{% block image %}
    &lt;a href="{{data.url}}"&gt;
        {% include atom('thumbnail') with {
            class: 'js-product-color-group__image-' ~ data.abstractId,
            attributes: {
                alt: data.name,
                src: data.imageUrl,
                title: data.name
            }
        } only %}
    &lt;/a&gt;
{% endblock %}
{#
    Original template starts here
#}
{% block content %}
    {% block labels %}
        {{ widget('ProductAbstractLabelWidgetPlugin', data.abstractId) }}
    {% endblock %}

    {% block groups %}
        {{ widget('ProductGroupWidgetPlugin', data.abstractId) }}
    {% endblock %}

    {% block name %}
        &lt;strong&gt;{{data.name}}&lt;/strong&gt;
    {% endblock %}

    {% block rating %}
        {{ widget('ProductAbstractReviewWidgetPlugin', data.abstractId) }}
    {% endblock %}

    {% block price %}
        &lt;p&gt;
            {% include molecule('price') with {
                data: {
                    amount: data.price | money,
                    originalAmount: data.originalPrice is empty ? null : (data.originalPrice | money)
                }
            } only %}
        &lt;/p&gt;
    {% endblock %}
{% endblock %}</code></pre>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
            </li>
            <li>Now, let us open the start page of Spryker Shop. It will look like this:</li>
        </ol>
        <p>In addition to extending templates of existing components, you can as well create components on your own. When creating a component, you can also define how it looks like, and this is also done in Twig. For detailed information, see section <b>Create Component Template</b> in&#160;<MadCap:xref href="t-create-component.htm">Tutorial - Frontend - Create a Component</MadCap:xref>.</p>
        <h2 id="styles">Styles</h2>
        <p>Another important aspect you can override are styles. The global styles are defined in the following folder:&#160;<code>vendor/spryker-shop/shop-ui/src/SprykerShop/Yves/ShopUi/Theme/default/styles</code>. The same as Twig, you can extend the global styles on your local project level or even replace them. For this purpose, you need to create your own style files&#160;in the following folder <code>src/Pyz/Yves/ShopUi/Theme/default/styles</code>. You can use the following files for your project styles:</p>
        <ul>
            <li><code>shared.scss</code> - can be&#160;used for global SASS variables, functions and mixins. This file can be used to override the topmost styles and settings of your project, like background color and foreground colors, fonts, spacings, grid settings, visual effects, spliters etc.</li>
            <li><code>basic.scss</code> - can be used for global styles like reset or typography;</li>
            <li><code>util.scss</code> - can be used for utility stles, like reset, align or <i>is-hidden</i> implementations.</li>
        </ul>
        <p class="tip">For detailed information on global styles, see section&#160;<b>SASS Layer</b> in <a href="../../../front-end_developer_guide/atomic_frontend/overview.htm#sass-layer">Atomic Frontend</a>.</p>
        <p>Typical implementations on the project level look as follows:</p>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>shared.scss</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre><code class="language-Css line-numbers">@import '~ShopUi/styles/shared';</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>basic.scss</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre><code class="language-Css line-numbers">@import '~ShopUi/styles/basic';

@include basic-reset;
@include basic-typography;
@include basic-grid;
@include basic-animation;</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>util.scss</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre><code class="language-Css line-numbers">@import '~ShopUi/styles/util';

@include util-spacing;
@include util-text;
@include util-float;
@include util-visibility;</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <p>In addition to global styles, each component can have it own styles. For information on how to define styles for a component, see&#160;<MadCap:xref href="t-create-component.htm">Tutorial - Frontend - Create a Component</MadCap:xref> and&#160;<MadCap:xref href="t-override-component.htm">Tutorial - Frontend - Override a Component</MadCap:xref>.</p>
        <h2 id="behavior">Behavior</h2>
        <p>The behavior of different components is defined by Javascript. For stricter typing and better code quality, we recommend using a strong-typed subset of Javascript called&#160;<i>Typescript</i>. It is enforced by default. However, you can always switch to regular ES6-ES7 Javascript by modifying the <code>tsconfig.json</code> file located in the root folder of your local Spryker code installation. You need to add the&#160;<code>allowJs</code> option to the&#160;<i>compilerOptions</i> section and set it to&#160;<code>true</code>:</p><pre><code class="language-Json line-numbers">{
    "compilerOptions": {
        "allowJs": true,
        ...
    }
}</code></pre>
        <p>All component assets are compiled using a bundler called <i>Webpack</i>. Spryker Shop Application (<i>Shop UI</i>) can have 3 entry points for Webpack on the project level. They should be located in the root folder of the Shop UI&#160;(<code>src/Pyz/Yves/ShopUi/Theme/default</code>). The entry points are as follows (in processing order):</p>
        <ul>
            <li>
                <p><code>es6-polyfill.ts</code>
                </p>
                <p>Contains polyfills required to make ES6 features (promises, sets, maps, arrays etc) available in older browwers, like IE11. You can add and remove as many polyfills as you may need for your project.</p>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot>Recommended Polyfills</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody><pre><code class="language-Javascript line-numbers">// ES6 polyfill
import 'core-js/fn/promise';
import 'core-js/fn/array';
import 'core-js/fn/set';
import 'core-js/fn/map';

// Check if the browser natively supports web components nd ES6
const hasNativeCustomElements = !!window.customElements;

// Load a shim for ES5 transpilers (typescript or babel)
// https://github.com/webcomponents/webcomponentsjs#custom-elements-es5-adapterjs
if (hasNativeCustomElements) {
    import(/* webpackMode: "eager" */'@webcomponents/webcomponentsjs/custom-elements-es5-adapter');
}</code></pre>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
            </li>
            <li>
                <p><code>vendor.ts</code>
                </p>
                <p>Contains external dependencies for the system.&#160;It is recommended to use this file for dependencies as Webpack will load the dependency code only once, and then references will be provided per request.</p>
                <p>Out of the box, the <i>Web Components</i> dependency is provided. You can add your own dependencies depending on the project needs (e.g. <i>jquery</i>, <i>recat</i>, <i>vue</i>&#160;etc).</p>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot>Default Dependencies</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody><pre><code class="language-Javascript line-numbers">// Add webcomponents polyfill
import '@webcomponents/webcomponentsjs/webcomponents-bundle';</code></pre>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
            </li>
            <li>
                <p><code>app.ts</code>
                </p>
                <p>This file contains the bootstrap code. Basically, this code simply loads the components. You can change the logic of how the application starts here. For example, this file can be used to add&#160;<i>document.ready</i> for <i>jquery</i>, main conatiner/fragment rendering for <i>react </i>and so on.</p>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot>Default Bootstrap</MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody><pre><code class="language-Javascript line-numbers">import { bootstrap } from 'ShopUi/app';
bootstrap();</code></pre>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
                <p>Additional information on bootstrap implementation can be found in the application folder here: <code>vendor/spryker-shop/shop-ui/src/SprykerShop/Yves/ShopUi/Theme/default/app</code>.</p>
            </li>
        </ul>
        <p>Apart from Webpack bootstrap, each component can have its own logic defined in the dedicated component Javascript or Typescript. For information on how to define component behavior,&#160;see&#160;<MadCap:xref href="t-create-component.htm">Tutorial - Frontend - Create a Component</MadCap:xref>,&#160;<MadCap:xref href="t-extend-component.htm">Tutorial - Frontend - Extend a Component</MadCap:xref> and <MadCap:xref href="t-override-component.htm">Tutorial - Frontend - Override a Component</MadCap:xref>.</p>
        <h2 id="dependencies">Installing Dependencies</h2>
        <p>Spryker Shop Application comes with a set of dependencies required to run the application. The dependency list can be found in the&#160;<code>package.json</code> file. You can add dependencies on your own. For example, you can add&#160;<i>recat</i>, <i>foundation</i>, <i>jquery </i>or customize&#160;Webpack with <i>file-loader </i>etc. For this purpose, create an SSH session to your virtual machine with&#160;<i>vagrant ssh</i> and execute the following commands:</p>
        <ul>
            <li><code>npm install --save dependency-name</code> - for application dependencies;</li>
            <li><code>npm install --save-dev dev-dependency-name</code> - for Webpack and tooling dependencies.</li>
        </ul>
        <p>The dependencies will be installed and written to <code>package.json</code> and <code>package-lock.json</code> files.</p>
        <p><i>Last review date: November 19th, 2018</i>
            <MadCap:conditionalText MadCap:conditions="General.Hidden Comment"> by Volodymyr Volkov</MadCap:conditionalText>
        </p>
    </body>
</html>