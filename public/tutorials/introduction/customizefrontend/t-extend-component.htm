<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="" MadCap:conditions="Spryker.ShopSuite,Spryker.B2C,Spryker.B2B">
    <head><title>Tutorial - Frontend - Extend a Component</title>
    </head>
    <body>
        <h1>Tutorial - Frontend - Extend a Component  </h1>
        <p>
            <img src="../../../Resources/Images/shoptype/B2B_Shop.png" />
            <img src="../../../Resources/Images/shoptype/B2C_Shop.png" />
            <img src="../../../Resources/Images/shoptype/MasterSuite.png" />
        </p>
        <p>With the idea of <a href="../../../front-end_developer_guide/atomic_frontend/overview.htm" target="_blank">atomic design</a> implemented in&#160;Spryker frontend, you have the possibility to develop each functional element of user interface in a self-contained, isolated container called a component. The frontend design allows you not only to <a href="t-create-component.htm">create components</a> on your own, but also <a href="t-extend-component.htm">replace</a> any of them with a component that suits your needs better. But what if you do not want to replace a component? You can create a new component on the basis of an existing one. In this case, you will be able to use both the new component and the source one at the same time.</p>
        <p>Let us review the process of extending a component on the example of <b>side-drawer</b>. This component appears in Spryker Shop only on mobile screens. You can access it by clicking the menu button.</p>
        <p>
            <img src="../../../Resources/Images/frontend/open-side-drawer.png" />
        </p>
        <p>The following tutorial shows how to create a new component based on the default side drawer. The new side drawer will show an alert whenever it is present on a page. Also, the component outlook will be different.</p>
        <h2>1. Create Component Folder</h2>
        <p>The first thing we need to do is create a folder for the new component. Since we are going to implement it on the project level, we need to create a folder in&#160;<code>src/Pyz/Yves/ShopUi</code>. The side drawer is an organism, so let us create the following folder:&#160;<i>src/Pyz/Yves/ShopUi/Theme/default/components/<b>organisms</b>/new-existing-component-side-drawer</i>.</p>
        <p>We are going to add new behavior, so the new component will have Javascript code. This requires an entry point for Webpack. To be able to add it, create an empty file named <code>index.ts</code> in the component folder.</p>
        <h2>2. Override Component on the Twig Level</h2>
        <p>No, we need to specify a name for the new component. Also, the component implements its own behavior, so we also need a to use a custom HTML tag to render it. We'll use the component name as the tag name. Let us create file&#160;<code>new-existing-component-side-drawer.twig</code> and add the <b>config</b> property as follows:</p><pre><code class="language-Twig line-numbers">{% extends organism('side-drawer') %}

{% define config = {
    name: 'new-existing-component-side-drawer',
    tag: 'new-existing-component-side-drawer'
} %}</code></pre>
        <p>As you can see in the above code, the Twig of the new component extends the original&#160;<b>side-drawer</b> component.</p>
        <p>Now, let us customize the template&#160;of the source component. The original template is defined in&#160;<code>vendor/spryker-shop/shop-ui/src/SprykerShop/Yves/ShopUi/Theme/default/components/organisms/side-drawer/side-drawer.twig</code>. The only change we are going to add is a different icon in the <b>close</b> block.&#160;To do this, add the following to <code>new-existing-component-side-drawer.twig</code>:</p><pre><code class="language-Twig line-numbers">{% block close %}
    &lt;div class="{{config.name}}__close"&gt;
        &lt;a href="#" class="link link--alt {{attributes['trigger-selector']}}"&gt;
            {{'global.close' | trans}}
            {% include atom('icon') with {
                data: {
                    name: 'star'
                }
            } only %}
        &lt;/a&gt;
    &lt;/div&gt;
{% endblock %}</code></pre>
        <h2>3. Change Styles</h2>
        <p>Apart from changing the icon, we are going to use different colors. This can be done via styles.</p>
        <p>First of all, we need to inherit the styles of the source component (<i>side-drawer</i>). It has a mixin called&#160;<b>shop-ui-side-drawer</b>. Since it is a core component shipped with Spryker Shop Suite, this mixin is shared. Therefore, it can be accessed everywhere in Shop UI. To inherit the styles, we need to include the mixin in the&#160;<em>SCSS</em> file of our new component. To render the block, elements and modifiers with the class name of the new component, we need to pass its class name to the mxin.</p>
        <p>Let us create file&#160;<code>new-existing-component-side-drawer.scss</code>, include the original mixin of the&#160;<i>side-drawer</i> component, and pass the class name of the new component we are creating:</p><pre><code class="language-Css line-numbers">@include shop-ui-side-drawer('.new-existing-component-side-drawer') {

}</code></pre>
        <p>We will change the main and overlay colors:</p><pre><code class="language-Css line-numbers">@include shop-ui-side-drawer('.new-existing-component-side-drawer') {
    color: $setting-color-alt;

    &amp;__overlay {
        background-color: $setting-color-main;
    }
}</code></pre>
        <p class="tip">You can find settings for the respective colors in configuration files. They are located in <code>vendor/spryker-shop/shop-ui/src/SprykerShop/Yves/ShopUi/Theme/default/styles/settings</code>.</p>
        <p>After defining the styles, let us make them visible to Webpack. Open the&#160;<code>index.ts</code> file and add the following content:</p><pre><code class="language-Javascript line-numbers">// Import component style
import './new-existing-component-side-drawer.scss';</code></pre>
        <h2>4. Modify Behavior</h2>
        <p>Finally, let us define what the component does. Create file&#160;<code>new-existing-component-side-drawer.ts</code>&#160;with the following content:</p><pre><code class="language-Javascript line-numbers">// Import class SideDrawer
import SideDrawer from 'ShopUi/components/organisms/side-drawer/side-drawer';

// export the extended class
export default class NewSideDrawer extends SideDrawer {
    protected readyCallback(): void {
        super.readyCallback();

        alert('New side drawer');
    }
}</code></pre>
        <p>In the above example, first, we import class&#160;<b>SideDrawer</b> from the global level. After that, we export a new class, <b>NewSideDrawer</b>. Since it extends the class of the default side drawer component, it also inherits its behavior.</p>
        <p class="tip">If you want to define the component behavior from scratch rather than importing the behavior of a default component, you need to extend the base&#160;<b>Component</b> class instead:<br /><pre><code class="language-Javascript line-numbers">import Component from 'ShopUi/models/component';

export default class NewSideDrawer extends Component {
&#160; &#160; &#160; &#160; &#160;// TODO: your code here
}</code></pre></p>
        <p>After implementing the component behavior, let us register it to the HTML tag of the new component. The tag name was defined&#160;in Twig on step <b>2</b>. Open the&#160;<code>index.ts</code> file again and add the following content:</p><pre><code class="language-Javascript line-numbers">// Import the 'register' function from the Shop Application
import register from 'ShopUi/app/registry';

// Register the component
// (in thei example, the original component tag is side-drawer)
export default register(
    'new-existing-component-side-drawer',
    () =&gt; import(/* webpackMode: "eager" */'./new-existing-component-side-drawer')
);</code></pre>
        <p>When importing the component, the&#160;<b>eager</b> keyword is used, as the component is used on every page, and we want it to be always available and loaded.</p>
        <h2>5. Build Frontend</h2>
        <p>Now, let us build the frontend. Run the following command in the console: <code>npm run yves</code>.</p>
        <p>As soon as the frontend has been compiled, replace the original side drawer with the new implementation. To do this:</p>
        <ul>
            <li>Copy file&#160;<code>vendor/spryker-shop/shop-ui/src/SprykerShop/Yves/ShopUi/Theme/default/page-layout-main/page-layout-main.twig</code> to&#160;<code>src/Pyz/Yves/ShopUi/Theme/default/page-layout-main/page-layout-main.twig</code>. Doing so overrides the default main page on the project level.</li>
            <li>Open the copied file.</li>
            <li>Replace the following line:<br /><code>{% include organism('side-drawer') with {</code><br />with this one:<br /><code>{% include organism('new-existing-component-side-drawer') with {</code></li>
            <li>Save the file.</li>
        </ul>
        <p>Now, whenever you access a page with a side drawer in&#160;Spryker Shop, you will get an alert from the new side drawer:</p>
        <p>
            <img src="../../../Resources/Images/frontend/side-drawer-notification.png" />
        </p>
        <p>Also, the drawer itself has a new outlook:</p>
        <p>
            <img src="../../../Resources/Images/frontend/new-side-drawer.png" />
        </p>
        <p><i>Last review date: November 19th, 2018</i>
            <MadCap:conditionalText MadCap:conditions="General.Hidden Comment"> by Volodymyr Volkov</MadCap:conditionalText>
        </p>
    </body>
</html>