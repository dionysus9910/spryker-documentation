<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body>
        <h1>Tutorial - Different Sores Different Logic - Landing Pages - <MadCap:variable name="General.ProductName" /></h1>
        <p class="info">This tutorial is also available on the Spryker Training web-site. For more information and hands-on exercises, visit the <a href="https://training.spryker.com/courses/developer-bootcamp">Spryker Training</a> web-site.</p>
        <h2>Challenge Description</h2>
        <p>Spryker supports a possibility of having multi-stores. Not just that, it also supports having different logic for different stores in a very elegant and simple way. </p>
        <p>Just extend the functionality for a specific store and postfix the module name with your store name. </p>
        <p>In this task, you will simply implement different home pages for the Backend Office for different stores.</p>
        <p class="info">You can use the same steps for any other logic in the shop.</p>
        <h2>Extend the DE Store</h2>
        <p>The fist thing to do is to override the current home page. There is a set of steps that you need to follow in order to override the current homepage: </p>
        <ol>
            <li>Add a <i>Controller</i> directory in the <b>Communication</b> layer of the Application module in Zed in <code>src/Pyz/Zed</code>.</li>
            <li>Inside the added <i>Controller</i> directory, extend the <code>IndexController</code> to return just a string when calling the <code>indexAction()</code>.
					<p><pre><code class="language=PHP line-numbers">
namespace Pyz\Zed\Application\Communication\Controller;
 
use Spryker\Zed\Application\Communication\Controller\IndexController as SprykerIndexController;
 
class IndexController extends SprykerIndexController
{
	/**
	 * @return string
	 */
	public function indexAction()
	{
		return 'Hello DE Store!';
	}
}
					</code></pre></p></li>
            <li>Check the <a href="http://zed.de.suite.local/">Backend Office</a> to see the new message for the DE store.</li>
        </ol>
        <h2>Add the New DEMO Store</h2>
        <p>The next thing to do is to add the new store and the new home page for it. </p>
        <ol>
            <li>Add a new store and call it <b>DEMO</b>. To do so, simply add a new array key to the store configuration file in <code>config/Shared/stores.php</code>.
<pre><code class="language-PHP line-numbers">
$stores['DEMO'] = $stores['DE'];
</code></pre></li>
            <li>Create a <code>config_default_DEMO.php</code> and a <code>config_default_development_DEMO.php</code>. You can copy other config files.</li>
            <li>Add a new Zed module in <code>src/Pyz/Zed</code> and call it <i>ApplicationDEMO</i>. This naming is a convention in Spryker. 
			<p class="info">To extend the logic for a specific shop, the module name should be <i>$moduleName$shopName</i>.</p></li>
            <li>Inside the new module, add a <b>Communication</b> layer directory and a <b>Controller</b> directory inside.</li>
            <li>Then add the new <code>IndexController</code> for the <b>DEMO</b> store.
			<p class="info">The main difference between the <code>IndexController</code> in step 1 and this controller is the namespace, and of course the output.</p><p><pre><code class="language-PHP line-numbers">
namespace Pyz\Zed\ApplicationDEMO\Communication\Controller;
 
use Spryker\Zed\Kernel\Communication\Controller\AbstractController;
 
class IndexController extends AbstractController
{
	/**
	 * @return string
	 */
	public function indexAction()
	{
		return 'Hello DEMO Store!!!';
	}
}		
			</code></pre></p></li>
            <li>The shop is ready to support both landing pages for both stores. What is left now is modifying the virtual machine to redirect you to the right store. Change the store in <i>Nginx</i> config for zed:
<ol><li>Open the config file <code>sudo vim /etc/nginx/sites-available/DE_development_zed</code>.</li><li>Change the <var>$application_store</var> to <b>DEMO</b>.</li><li>Save the changes.</li></ol></li>
            <li>Finally, restart <i>Nginx</i> ny running <code>sudo /etc/init.d/nginx restart</code></li>
        </ol>
        <p>Check the <a href="http://zed.de.suite.local/">Backend Office</a> again to see the new message for the <b>DEMO</b> store.</p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p><i>Last review date: Jul 18, 2018 </i>
            <MadCap:conditionalText MadCap:conditions="General.Hidden Comment" style="font-style: italic;"> by Hussam Hebbo, Anastasija Datsun</MadCap:conditionalText>
        </p>
    </body>
</html>