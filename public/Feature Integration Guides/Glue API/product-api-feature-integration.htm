<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="ReleaseVersions.2018-10">
    <head><title>Product API Feature Integration | Spryker</title>
        <link href="../../Resources/TableStyles/PatternedRows2.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <meta name="description" content="This guide will navigate you through the process of installing and configuring the Product API feature in Spryker OS." />
    </head>
    <body>
        <h1>Product API Feature Integration</h1>
        <MadCap:menuProxy data-mc-skin="/Project/Skins/SideMenuNotFixed.flskn" mc-linked-toc="$topicHeadings" style="mc-context-sensitive: True;mc-include-parent: True;mc-include-siblings: True;mc-include-children: True;" />
        <h2>Install Feature API</h2>
        <h3>Prerequisites</h3>
        <p>To start feature integration, overview and install the necessary features:</p>
        <div class="table-wrap">
            <table style="mc-table-style: url('../../Resources/TableStyles/PatternedRows2.css');" class="TableStyle-PatternedRows2" cellspacing="0">
                <thead>
                    <tr class="TableStyle-PatternedRows2-Head-Header1">
                        <th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Name</th>
                        <th class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Version</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="TableStyle-PatternedRows2-Body-LightRows">
                        <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">Spryker Core</td>
                        <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">2018.12.0</td>
                    </tr>
                    <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                        <td class="TableStyle-PatternedRows2-BodyB-Regular-DarkerRows">Product Management</td>
                        <td class="TableStyle-PatternedRows2-BodyA-Regular-DarkerRows">2018.12.0</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h3>1) Install the Required Modules Using Composer</h3>
        <p>Run the following command to install the required modules:</p><pre><code class="language-PHP">composer require spryker/products-rest-api:"^2.2.3" --update-with-dependencies</code></pre>
        <div class="tip">Make sure that the following module is installed:
			<div class="table-wrap"><table style="mc-table-style: url('../../Resources/TableStyles/PatternedRows2.css');" class="TableStyle-PatternedRows2" cellspacing="0"><thead><tr class="TableStyle-PatternedRows2-Head-Header1"><th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Module</th><th class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Expected directory</th></tr></thead><tbody><tr class="TableStyle-PatternedRows2-Body-LightRows"><td class="TableStyle-PatternedRows2-BodyB-Regular-LightRows"><var>ProductsRestApi</var></td><td class="TableStyle-PatternedRows2-BodyA-Regular-LightRows"><var>vendor/spryker/products-rest-api</var></td></tr></tbody></table></div></div>
        <h3>2) Set up Database Schema and Transfer objects</h3>
        <p>Run the following commands to apply database changes and generate entity and transfer changes:</p><pre><code class="language-PHP">console transfer:generate
console propel:install
console transfer:generate</code></pre>
        <div class="tip">Make sure that the following modules are installed:
			<div class="table-wrap"><table style="mc-table-style: url('../../Resources/TableStyles/PatternedRows2.css');" class="TableStyle-PatternedRows2" cellspacing="0"><thead><tr class="TableStyle-PatternedRows2-Head-Header1"><th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Transfer</th><th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Type</th><th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Event</th><th class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Path</th></tr></thead><tbody><tr class="TableStyle-PatternedRows2-Body-LightRows"><td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows"><var>ConcreteProductsRestAttributesTransfer</var></td><td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">class</td><td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">created</td><td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows"><var>src/Generated/Shared/Transfer/ConcreteProductsRestAttributesTransfer</var></td></tr><tr class="TableStyle-PatternedRows2-Body-DarkerRows"><td class="TableStyle-PatternedRows2-BodyB-Regular-DarkerRows"><var>AbstractProductsRestAttributesTransfer

</var></td><td class="TableStyle-PatternedRows2-BodyB-Regular-DarkerRows">class</td><td class="TableStyle-PatternedRows2-BodyB-Regular-DarkerRows">created</td><td class="TableStyle-PatternedRows2-BodyA-Regular-DarkerRows"><var>src/Generated/Shared/Transfer/AbstractProductsRestAttributesTransfer</var></td></tr></tbody></table></div></div>
        <div class="tip">Make sure that <var>SpyProductAbstractStorage</var> and <var>SpyProductConcreteStorage</var> are extended by synchronization behavior with these methods:<![CDATA[
			]]><div class="table-wrap"><table style="mc-table-style: url('../../Resources/TableStyles/PatternedRows2.css');" class="TableStyle-PatternedRows2" cellspacing="0"><thead><tr class="TableStyle-PatternedRows2-Head-Header1"><th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Entity</th><th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Type</th><th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Event</th><th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Path</th><th class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Methods</th></tr></thead><tbody><tr class="TableStyle-PatternedRows2-Body-LightRows"><td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows"><var>SpyProductAbstractStorage</var></td><td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">class</td><td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">extended</td><td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows"><var>src/Orm/Zed/ProductStorage/Persistence/Base/SpyProductAbstractStorage
</var></td><td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows"><var>syncPublishedMessageForMappings(),

syncUnpublishedMessageForMappings()</var></td></tr><tr class="TableStyle-PatternedRows2-Body-DarkerRows"><td class="TableStyle-PatternedRows2-BodyB-Regular-DarkerRows"><var>SpyProductConcreteStorage</var></td><td class="TableStyle-PatternedRows2-BodyB-Regular-DarkerRows">class</td><td class="TableStyle-PatternedRows2-BodyB-Regular-DarkerRows">extended</td><td class="TableStyle-PatternedRows2-BodyB-Regular-DarkerRows"><var>src/Orm/Zed/ProductStorage/Persistence/Base/SpyProductConcreteStorage</var></td><td class="TableStyle-PatternedRows2-BodyA-Regular-DarkerRows"><var>syncPublishedMessageForMappings(),

syncUnpublishedMessageForMappings()</var></td></tr></tbody></table></div></div>
        <h3>3) Set up behavior</h3>
        <h4>Reload data to storage</h4>
        <p>Run the following commands to reload abstract and product data to storage.</p><pre><code class="language-PHP">console event:trigger -r product_abstract
console event:trigger -r product_concrete</code></pre>
        <div class="tip">
            <p>Make sure that there are data in Redis with these keys:</p>
            <p><var>kv:product_abstract:{{store_name}}:{{locale_name}}:sku:{{sku_product_abstract}}</var>
            </p>
            <p><var>kv:product_concrete:{{locale_name}}:sku:{{sku_product_concrete}}</var>
            </p>
        </div>
        <h4>Enable resources</h4>
        <p>Activate the following plugin:</p>
        <table style="mc-table-style: url('../../Resources/TableStyles/PatternedRows2.css');" class="TableStyle-PatternedRows2" cellspacing="0">
            <thead>
                <tr class="TableStyle-PatternedRows2-Head-Header1">
                    <th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Plugin</th>
                    <th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Specification</th>
                    <th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Prerequisites</th>
                    <th class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Namespace</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows"><var>AbstractProductsResourceRoutePlugin</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">Registers an abstract product resource.
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">None
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows"><var>Spryker\Glue\ProductsRestApi\Plugin</var>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyB-Regular-DarkerRows"><var>ConcreteProductsResourceRoutePlugin<![CDATA[
		]]></var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyB-Regular-DarkerRows">Registers an concrete product resource.
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyB-Regular-DarkerRows">None
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyA-Regular-DarkerRows"><var>Spryker\Glue\ProductsRestApi\Plugin</var>
                    </td>
                </tr>
            </tbody>
        </table>
        <p><b><var>src/Pyz/Glue/GlueApplication/GlueApplicationDependencyProvider.php</var></b>
        </p><pre><code class="language-PHP line-numbers">&lt;?php
 
namespace Pyz\Glue\GlueApplication;
 
use Spryker\Glue\GlueApplication\GlueApplicationDependencyProvider as SprykerGlueApplicationDependencyProvider;
use Spryker\Glue\ProductsRestApi\Plugin\AbstractProductsResourceRoutePlugin;
use Spryker\Glue\ProductsRestApi\Plugin\ConcreteProductsResourceRoutePlugin;
 
class GlueApplicationDependencyProvider extends SprykerGlueApplicationDependencyProvider
{
    /**
     * @return \Spryker\Glue\GlueApplicationExtension\Dependency\Plugin\ResourceRoutePluginInterface[]
     */
    protected function getResourceRoutePlugins(): array
    {
        return [
            new AbstractProductsResourceRoutePlugin(),
            new ConcreteProductsResourceRoutePlugin(),
        ];
    }
}</code></pre>
        <div class="tip">
            <p>Make sure that following endpoints are available:</p>
            <p><var>http://example.org/abstract-products/{{abstract_sku}}</var>
            </p>
            <p><var>http://example.org/concrete-products/{{concrete_sku}}</var>
            </p>
        </div>
        <p>&#160;</p>
        <p><i>Last review date: Feb 19, 2019</i> <MadCap:conditionalText MadCap:conditions="General.Hidden Comment">by Tihran Voitov and Dmitry Beirak</MadCap:conditionalText></p>
    </body>
</html>