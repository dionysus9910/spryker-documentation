<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../../Resources/TableStyles/PatternedRows.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body>
        <h1>Permissions Feature Integration</h1>
        <p>The Permissions feature is shipped with following modules:</p>
        <table style="width: 100%;">
            <col />
            <col />
            <tbody>
                <tr>
                    <td>Module</td>
                    <td>Description</td>
                </tr>
                <tr>
                    <td><a href="https://github.com/spryker/spryker/tree/master/Bundles/Permission">Permission</a>
                    </td>
                    <td>Provides permissions support that can be used as a part of ACL / RBAC</td>
                </tr>
                <tr>
                    <td><a href="https://github.com/spryker/spryker/tree/master/Bundles/PermissionExtension">PermissionExtension</a>
                    </td>
                    <td>Holds a set of plugin interfaces that can be used as extension points of Permission module</td>
                </tr>
            </tbody>
        </table>
        <p>To install the feature, follow the steps below.</p>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><b>1. Install necessary modules using composer</b>
                </MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre><code>composer update "spryker/*" "spryker-shop/*"</code></pre><pre><code>composer require spryker/permission-extension:"^1.0.0" spryker/permission:"^1.0.0"</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><b>2. Add plugins to Zed's CustomerDependencyProvider</b>
                </MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/PatternedRows.css');" class="TableStyle-PatternedRows" cellspacing="0">
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <thead>
                        <tr class="TableStyle-PatternedRows-Head-Header1">
                            <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Module</th>
                            <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Plugin</th>
                            <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Description</th>
                            <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Method in Dependency Provider</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">CompanyRole</td>
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">PermissionCustomerExpanderPlugin</td>
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">Adds permissions to the company user</td>
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">getCustomerTransferExpanderPlugins </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">CompanyUser</td>
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">CustomerTransferCompanyUserExpanderPlugin</td>
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">Adds company user information to customer transfer</td>
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">getCustomerTransferExpanderPlugins</td>
                        </tr>
                    </tbody>
                </table>
                <MadCap:dropDown>
                    <MadCap:dropDownHead>
                        <MadCap:dropDownHotspot><![CDATA[
		]]><i>src/Pyz/Zed/Customer/CustomerDependencyProvider.php</i><![CDATA[
		]]></MadCap:dropDownHotspot>
                    </MadCap:dropDownHead>
                    <MadCap:dropDownBody><pre><code class="language-PHP line-numbers">namespace Pyz\Zed\Customer;
 
use Spryker\Zed\CompanyUser\Communication\Plugin\Customer\CustomerTransferCompanyUserExpanderPlugin;
use Spryker\Zed\CompanyRole\Communication\Plugin\PermissionCustomerExpanderPlugin;
use Spryker\Zed\Customer\CustomerDependencyProvider as SprykerCustomerDependencyProvider;
 
class CustomerDependencyProvider extends SprykerCustomerDependencyProvider
{
 
    /**
     * @return \Spryker\Zed\Customer\Dependency\Plugin\CustomerTransferExpanderPluginInterface[]
     */
    protected function getCustomerTransferExpanderPlugins()
    {
        return [
            new PermissionCustomerExpanderPlugin(),
            new CustomerTransferCompanyUserExpanderPlugin()
        ];
    }
}</code></pre>
                    </MadCap:dropDownBody>
                </MadCap:dropDown>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><b>3. Synchronize permission plugins with storage</b>
                </MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>Go to the Administration interface, <i>Maintenance</i> menu and click <i>Sync permissions</i></p>
                <p>&#160;</p>
                <p><i>Last review date: August 15th, 2018 </i>
                    <MadCap:conditionalText MadCap:conditions="General.Hidden Comment"><i>by Denis Turkov</i>
                    </MadCap:conditionalText>
                </p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
    </body>
</html>