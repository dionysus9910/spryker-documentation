<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="2" MadCap:lastHeight="1042" MadCap:lastWidth="1756" style="">
    <head>
    </head>
    <body>
        <h1>Simple Spelling Suggestions</h1>
        <p>Spelling suggestions provide the users with alternative search terms when the search query does not return any results:
</p>
        <p>
            <img src="../Resources/Images/spell-checking.png" title="Spell Checking" alt="Spell Checking" class="Thumbnail">
            </img><![CDATA[


]]></p>
        <p>Translation: <i>Unfortunately there were 0 results for your exact search term “<b>hammer holk</b>”. Did you possibly mean <b>hammer holz</b>?</i><![CDATA[

]]></p>
        <p>This is one of the simplest features you can build with Elasticsearch and also one that your users expect to see. Elasticsearch has a highly configurable <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters-term.html" target="_blank" title="Term Suggester" alt="Term Suggester">term suggester</a>, which enables suggestions based on the edit distance between indexed terms and search terms.

We recommend putting all attributes that are suitable for spelling suggestions (i.e. short strings such as product and category names where you are sure that they are spelled correctly) into a single document field:
</p><pre><code class="language-PHP line-numbers">"suggestion_terms": [
  "Fortis Fäustel, mit Eschen-Stiel"
]
</code></pre>
        <p>Suggestion terms are then indexed by splitting them by whitespace and lowercasing. The same goes for search terms that will be compared with the indexed terms.
</p><pre><code class="language-PHP line-numbers">"suggestion_terms" : {
  "type" : "string",
  "analyzer" : "term_suggestion_analyzer",
}
</code></pre>
        <p>At query time, a suggest part is added to every query. It will try to return the closest tokens (based on edit distance) for all terms that were not matched in the query. For tokens that match at least one document, no suggestions are going to be calculated. In case you have doubts about the quality of the suggestion_terms, it’s possible to fetch several suggestions per term from Elasticsearch and then use some heuristics in the back end to select one that exhibits a good combination of distance score and term frequency.
</p><pre><code class="language-PHP line-numbers">"suggest": {
  "spelling-suggestion": {
    "text": "hammmer",
    "term": {
      "field": "suggestion_terms",
      "size": 1
    }
  }
}
</code></pre>
    </body>
</html>