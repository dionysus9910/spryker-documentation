<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="General.Draft,Spryker.DemoShop,Spryker.B2C">
    <head><title>Klarna - Part Payment - Flexible</title>
    </head>
    <body>
        <h1>Klarna
- Part Payment – Flexible <img src="../../../Resources/Images/shoptype/B2C_Shop.png" /> <img src="../../../Resources/Images/shoptype/Demoshop.png" /></h1>
        <h2>Payment Workflow Scenarios
</h2>
        <p>
            <img src="../../../Resources/Images/Klarna/flexible_paymentworkflow.png" class="Thumbnail">
            </img><![CDATA[ 

]]></p>
        <h2>Cancel Workflow Scenarios
</h2>
        <p>
            <img src="../../../Resources/Images/Klarna/flexible_cancelworkflow.png" class="Thumbnail">
            </img>
        </p>
        <h2>Refund Workflow Scenarios
</h2>
        <p>
            <img src="../../../Resources/Images/Klarna/flexible_refundworkflow.png" class="Thumbnail">
            </img>
        </p>
        <h2>Integrating Klarna Part Payment
</h2>
        <p>The configuration to integrate <var>Part Payment</var> using Klarna is:

</p>
        <ul>
            <li class="bullet_list"><var>SHARED_SECRET</var>: shared token
</li>
            <li class="bullet_list"><var>EID</var>: the id of the merchant, received from Klarna.
</li>
            <li class="bullet_list"><var>TEST_MODE</var>: <var>true </var> or <var>false</var>.
</li>
            <li class="bullet_list"><var>KLARNA_INVOICE_MAIL_TYPE</var>: type of the user notifications. Possible values are:
<ul><li class="bullet_list"><var>KlarnaConstants::KLARNA_INVOICE_TYPE_MAIL</var><![CDATA[
]]></li><li class="bullet_list"><var>KlarnaConstants::KLARNA_INVOICE_TYPE_EMAIL</var><![CDATA[
]]></li><li class="bullet_list"><var>KlarnaConstants::KLARNA_INVOICE_TYPE_NOMAIL</var><![CDATA[
]]></li></ul></li>
            <li class="bullet_list"><var>KLARNA_PCLASS_STORE_TYPE</var>: pClasses storage type. Could be <var>json</var>, <var>xml</var>, <var>sql</var>. Default type is <var>json</var>.
</li>
            <li class="bullet_list"><var>KLARNA_PCLASS_STORE_URI</var>: URI for pClasses storage. Default <var>APPLICATION_ROOT_DIR . '/data/DE/pclasses.json'</var>.
</li>
            <li class="bullet_list"><var>KLARNA_CHECKOUT_CONFIRMATION_URI</var>: checkout confirmation URI, default value <var>$domain . '/checkout/klarna/success</var>'.
</li>
            <li class="bullet_list"><var>KLARNA_CHECKOUT_TERMS_URI</var>: checkout terms URI, default value <var>$domain</var>.
</li>
            <li class="bullet_list"><var>KLARNA_CHECKOUT_PUSH_URI</var>: checkout push URI, default value <var>$domain . '/checkout/klarna/push'</var>.
</li>
            <li class="bullet_list"><var>KLARNA_CHECKOUT_URI</var>: checkout URI, default value <var>$domain</var>.
</li>
            <li class="bullet_list"><var>KLARNA_PDF_URL_PATTERN:</var> pdf URL pattern, default value <var>https://online.testdrive.klarna.com/invoices/%s.pdf</var>.
</li>
            <li class="bullet_list"><var>NL_PART_PAYMENT_LIMIT</var>: maximum allowed limit for part payment in the Netherlands (in cents).
</li>
        </ul>
        <p>You can copy over configuration to your config file from the Klarna bundles <var>config.dist.php</var> file.

</p>
        <h2>Perform Requests
</h2>
        <p>In order to perform the needed requests, you can easily use the implemented <a href="klarna-state-machine.htm">Klarna State Machine Commands and Conditions</a>. The next section gives you a summary of them.
</p>
        <p><b>See also:
			</b>
        </p>
        <ul>
            <li><a href="klarna.htm">Learn about Klarna payment system</a>
            </li>
            <li><a href="klarna-state-machine.htm">Get acquainted with Klarna State Machine Commands and Conditions</a>
            </li>
            <li><a href="klarna-payment-workflow.htm">Learn about Klarna payment workflow</a>
            </li>
            <li><a href="klarna-invoice-pay-in-14-days.htm">Configure invoice 14-day payment with Klarna</a>
            </li>
        </ul>
    </body>
</html>