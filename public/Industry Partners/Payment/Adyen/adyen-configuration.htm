<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Spryker.ShopSuite">
    <head>
        <link href="../../../Resources/TableStyles/PatternedRows2.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>Adyen - Configuration | Spryker</title>
        <meta name="description" content="Configure your shop to use Adyen payment. The configuration consists of two main parts: editing the config file and adding the payment details to the State Machine (OMS) configuration." />
    </head>
    <body>
        <h1>Adyen - Configuration</h1>
        <p>All necessary configurations can be found in <var>vendor/spryker-eco/adyen/config/config.dist.php</var></p>
        <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/PatternedRows2.css');" class="TableStyle-PatternedRows2" cellspacing="0">
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <thead>
                <tr class="TableStyle-PatternedRows2-Head-Header1">
                    <td class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Configuration Key</td>
                    <td class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Type</td>
                    <td class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Description</td>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">AdyenConstants::MERCHANT_ACCOUNT</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Name of merchant account</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">AdyenConstants::REQUEST_CHANNEL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Name of channel communication with Adyen, has to be "Web"</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">AdyenConstants::SDK_CHECKOUT_SECURED_FIELDS_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">JS SDK URL to encrypt Credit Card secure fields</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">AdyenConstants::SDK_CHECKOUT_ORIGIN_KEY</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Origin key of JS SDK that generated based on project base URL </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">AdyenConstants::SOFORT_RETURN_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">URL to return customer after pay on <a href="http://www.de.your-project.com/adyen/callback/redirect-sofort" target="_blank">Sofort</a><![CDATA[

]]></td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">AdyenConstants::CREDIT_CARD_3D_RETURN_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">URL to return customer after passing <a href="http://www.de.your-project.com/adyen/callback/redirect-credit-card-3d" target="_blank">3D secure</a><![CDATA[

]]></td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">AdyenConstants::IDEAL_RETURN_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">URL to return customer after pay on <a href="http://www.de.your-project.com/adyen/callback/redirect-ideal" target="_blank">iDeal
</a></td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">AdyenConstants::PAY_PAL_RETURN_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">URL to return customer after pay on <a href="http://www.de.your-project.com/adyen/callback/redirect-paypal" target="_blank">PayPal</a><![CDATA[

]]></td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">AdyenConstants::ALI_PAY_RETURN_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">URL to return customer after pay on <a href="http://www.de.your-project.com/adyen/callback/redirect-alipay" target="_blank">AliPay</a><![CDATA[

]]></td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">AdyenConstants::WE_CHAT_PAY_RETURN_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">URL to return customer after pay on <a href="http://www.de.your-project.com/adyen/callback/redirect-wechatpay" target="_blank">WeChatPay</a><![CDATA[

]]></td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">AdyenConstants::CREDIT_CARD_3D_SECURE_ENABLED</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">bool</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Is 3D secure enabled for Credit Card payments</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">AdyenConstants::MULTIPLE_PARTIAL_CAPTURE_ENABLED</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">bool</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Is multiple capture enabled. Default false</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">AdyenConstants::SOCIAL_SECURITY_NUMBER_COUNTRIES_MANDATORY</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">array</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">List of countries with SSN mandatory</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">AdyenConstants::IDEAL_ISSUERS_LIST</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">array</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">List of iDeal issuers</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">AdyenApiConstants::API_KEY</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">API key, provided by Adyen</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">AdyenApiConstants::GET_PAYMENT_METHODS_ACTION_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">URL for get available payment methods API call</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">AdyenApiConstants::MAKE_PAYMENT_ACTION_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">URL for make payment API call</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">AdyenApiConstants::PAYMENTS_DETAILS_ACTION_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">URL for payment details API call
</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">AdyenApiConstants::AUTHORIZE_ACTION_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">URL for authorize API call</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">AdyenApiConstants::AUTHORIZE_3D_ACTION_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">URL for authorize 3D API call</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">AdyenApiConstants::CAPTURE_ACTION_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">URL for capture API call</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">AdyenApiConstants::CANCEL_ACTION_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">URL for cancel API call</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">AdyenApiConstants::REFUND_ACTION_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">URL for refund API call</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">AdyenApiConstants::CANCEL_OR_REFUND_ACTION_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">URL for cancel or refund API call (when it's not possible to know is payment already captured)</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">AdyenApiConstants::TECHNICAL_CANCEL_ACTION_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">URL for technical cancel API call</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyB-Regular-DarkerRows">AdyenApiConstants::ADJUST_AUTHORIZATION_ACTION_URL</td>
                    <td class="TableStyle-PatternedRows2-BodyB-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyA-Regular-DarkerRows">URL for adjust authorized amount API call</td>
                </tr>
            </tbody>
        </table>
        <p>Also, you have to add payment methods to State Machine (OMS) configuration:</p><pre><code class="language-php line-numbers">
	$config[OmsConstants::PROCESS_LOCATION] = [
		...
		APPLICATION_ROOT_DIR . '/vendor/spryker-eco/adyen/config/Zed/Oms',
	];
	$config[OmsConstants::ACTIVE_PROCESSES] = [
		...
		'AdyenCreditCard01',
		'AdyenSofort01',
		'AdyenDirectDebit01',
		'AdyenKlarnaInvoice01',
		'AdyenPrepayment01',
		'AdyenIdeal01',
		'AdyenPayPal01',
		'AdyenAliPay01',
		'AdyenWeChatPay01',
	];
	$config[SalesConstants::PAYMENT_METHOD_STATEMACHINE_MAPPING] = [
		...
		AdyenConfig::ADYEN_CREDIT_CARD =&gt; 'AdyenCreditCard01',
		AdyenConfig::ADYEN_SOFORT =&gt; 'AdyenSofort01',
		AdyenConfig::ADYEN_DIRECT_DEBIT =&gt; 'AdyenDirectDebit01',
		AdyenConfig::ADYEN_KLARNA_INVOICE =&gt; 'AdyenKlarnaInvoice01',
		AdyenConfig::ADYEN_PREPAYMENT =&gt; 'AdyenPrepayment01',
		AdyenConfig::ADYEN_IDEAL =&gt; 'AdyenIdeal01',
		AdyenConfig::ADYEN_PAY_PAL =&gt; 'AdyenPayPal01',
		AdyenConfig::ADYEN_ALI_PAY =&gt; 'AdyenAliPay01',
		AdyenConfig::ADYEN_WE_CHAT_PAY =&gt; 'AdyenWeChatPay01',
	];</code></pre>
        <h2>Notifications</h2>
        <p>To complete the payment modification requests (cancel, capture, refund), it's necessary to <a href="https://docs.adyen.com/developers/notifications/set-up-notifications">configure notification on Adyen</a> merchant backend side.</p>
        <p>You can get more information form <a href="https://docs.adyen.com/developers">Adyen documentation</a>.</p>
        <p>The link to accept notifications from Adyen looks like http://www.de.your-project.com/adyen/notification.</p>
        <h2>Adyen Configuration</h2>
        <p>You can get your credentials by following the <a href="https://docs.adyen.com/developers/checkout/api-integration#beforeyoubegin" target="_blank">instruction.</a></p>
        <p>You can get JS SDK url and generate your origin key by following this <a href="https://docs.adyen.com/developers/checkout/api-integration#encryptcreditcarddetails" target="_blank">instruction</a> from.</p>
        <p>&#160;</p>
        <p><b>See also</b>:</p>
        <ul>
            <li><a href="adyen.htm">Get acquainted with Adyen</a>
            </li>
            <li> <a href="adyen-integration.htm">Integrate Adyen in your project</a></li>
            <li><a href="adyen-filter-payment-methods.htm">Learn about Adyen Filter Payment Methods
					</a>
            </li>
            <li><a href="adyen-provided-payment-methods.htm">Learn about Adyen Provided Payment Methods</a>
            </li>
        </ul>
        <p>&#160;</p>
        <p><i>Last review date: November, 16th, 2018 </i>
            <MadCap:conditionalText MadCap:conditions="General.Hidden Comment"><i>by Aleksey Kotsuba, Oksana Karasyova</i>
            </MadCap:conditionalText>
        </p>
    </body>
</html>