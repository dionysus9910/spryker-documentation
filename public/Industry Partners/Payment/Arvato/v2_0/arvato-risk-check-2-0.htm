<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="" MadCap:conditions="Spryker.DemoShop,Spryker.ShopSuite,Spryker.B2C">
    <head>
        <link href="../../../../Resources/TableStyles/PatternedRows2.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>Arvato  2.0 - Risk Check</title>
    </head>
    <body>
        <h1>Arvato  2.0 - Risk Check <img src="../../../../Resources/Images/shoptype/B2C_Shop.png" /> <img src="../../../../Resources/Images/MasterSuite.png" /> <img src="../../../../Resources/Images/shoptype/Demoshop.png" /></h1>
        <p>
            <MadCap:relatedTopics style="mc-label: 'Versions';">
                <MadCap:relatedTopic src="../v1_0/arvato-risk-check-1-0.htm" />
            </MadCap:relatedTopics>
        </p>
        <p>
    Accounted for by external credit agency data and internal existing customer- and order-details
    the RiskCheck evaluates the probability of payment default for the customer orders.
</p>
        <p>
    The returned decision codes (Result – ActionCode – ResultCode) manage the definition of the eShop’s payment methods.
    If a payment method is not permitted, the decision code provides information about alternate payment methods available for the customer.
</p>
        <p>
    Additional validation of billing and shipping addresses is performed on Arvato RSS side. Please refer to Arvato documentation
    for return code bit pattern and explanation of bits.
</p>
        <p>
    The main entry point to risk check functionality is <code>performRiskCheck</code> method inside <code>ArvatoRssFacade</code> class.
</p>
        <p>
    Developer is supposed to call <var>performRiskCheck</var> method providing actual <var>QuoteTransfer</var> as the first argument.
    In the response <var>QuoteTransfer</var> is returned with <var>ArvatoRssRiskCheckResponse</var> transfer inside. It contains
    <var>Result</var>, <var>ResultCode</var>, <var>ActionCode</var>, <var>ResultText</var>, <var>billingAddressValidation</var>, <var>deliveryAddressValidation</var>.
</p>
        <p>
    Response can be taken with</p><pre><code class="language-php">
    $quoteTransfer-&gt;getArvatoRssQuoteData()-&gt;getArvatoRssRiskCheckResponse();</code></pre>
        <p>Note: the transfer can have all fields empty if error occurred during request.</p>
        <p><b>Data, that is sent to Arvato RSS and must be present in quote:</b>
        </p>
        <table style="mc-table-style: url('../../../../Resources/TableStyles/PatternedRows2.css');" class="TableStyle-PatternedRows" cellspacing="0">
            <thead>
                <tr class="TableStyle-PatternedRows-Head-Header1">
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Name</th>
                    <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Notes</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows"><var>Country</var>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">Is taken from <var>BillingAddress</var> and <var>ShippingAddress</var></td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows"><var>City</var>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">Is taken from <var>BillingAddress</var> and <var>ShippingAddress</var></td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows"><var>Street</var>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">Is taken from <var>BillingAddress</var> and <var>ShippingAddress</var></td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows"><var>StreetNumber</var>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">Is taken from <var>BillingAddress</var> and <var>ShippingAddress</var></td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows"><var>ZipCode</var>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">Is taken from <var>BillingAddress</var> and <var>ShippingAddress</var></td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows"><var>FirstName</var>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">Is taken from <var>BillingAddress</var> and <var>ShippingAddress</var></td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows"><var>LastName</var>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">Is taken from <var>BillingAddress</var> and <var>ShippingAddress</var></td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows"><var>RegisteredOrder</var>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">Shows if order is placed with registered customer or not.</td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows"><var>Currency</var>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">Is taken from store configuration</td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows"><var>GrossTotalBill</var>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">Total value of order incl. delivery fee, rebates/ credit notes and VAT (Grand Total)</td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows"><var>TotalOrderValue</var>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">Value of goods for this order incl. VAT (Subtotal)</td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows"><var>ProductNumber</var>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows"> Product number, defined by customer(default value 1). Sku is set there. </td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows"><var>ProductGroupId</var>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">Product group number/product type (default value 1). 1 is set.</td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows"><var>UnitPrice</var>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">Value of units incl. VAT. It is taken from <var>ItemTransfer</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows"><var>UnitCount</var>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">Quantity of units (maximum value 99999999). It is taken from <var>ItemTransfer</var></td>
                </tr>
            </tbody>
        </table>
        <p><a href="../../../../Resources/Images/arvato-rss-result-codes.xlsm">Result codes, returned by Arvato RSS</a>
        </p>
        <p>&#160;</p>
        <p><b>See also</b>:</p>
        <ul>
            <li><a href="arvato-2-0.htm">Arvato Risk Solution Services Integration</a>
            </li>
            <li><a href="arvato-store-order-2-0.htm">Arvato Store Order</a>
            </li>
        </ul>
        <p>&#160;</p>
        <p><i>Last review date:
November. 19th, 2018 </i>
            <MadCap:conditionalText MadCap:conditions="General.Hidden Comment"><i>by Serhii Sikachov, Oksana Karasyova</i>
            </MadCap:conditionalText>
        </p>
    </body>
</html>