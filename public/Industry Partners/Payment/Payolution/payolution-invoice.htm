<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="" MadCap:conditions="Spryker.DemoShop,Spryker.B2C">
    <head>
    </head>
    <body>
        <h1>Payolution - Invoice Payment <img src="../../../Resources/Images/shoptype/B2C_Shop.png" /> <img src="../../../Resources/Images/shoptype/Demoshop.png" /></h1>
        <h2>Workflow Scenarios</h2>
        <p>Payments from Payolution to Merchant are not included in the sequence diagrams since they occur on a regular basis (e.g. every week).</p>
        <table style="width: 100%;">
            <col />
            <col />
            <tbody>
                <tr>
                    <td>
                        <h3>Standard Case</h3>
                        <p>
                            <img src="../../../Resources/Images/Payolution/payolution-invoice-standard-case.png" class="Thumbnail" title="Click Me">
                            </img>
                        </p>
                    </td>
                    <td>
                        <h3>Full Refund Before Payment</h3>
                        <p>
                            <img src="../../../Resources/Images/Payolution/payolution-invoice-fullrefundbefore.png" class="Thumbnail" title="Click Me">
                            </img>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <h3>Partial Refund Before Payment</h3>
                        <p>
                            <img src="../../../Resources/Images/Payolution/payolution-invoice-partialrefundbefore.png" class="Thumbnail" title="Click Me">
                            </img>
                        </p>
                    </td>
                    <td>
                        <h3>Full Refund After Payment</h3>
                        <p>
                            <img src="../../../Resources/Images/Payolution/payolution-invoice-fullrefundafter.png" class="Thumbnail" title="Click Me">
                            </img>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <h3>Partial Refund After Payment</h3>
                        <p>
                            <img src="../../../Resources/Images/payolution/payolution-invoice-partialrefundafter.png" class="Thumbnail" title="Click Me">
                            </img>
                        </p>
                    </td>
                    <td>&#160;</td>
                </tr>
            </tbody>
        </table>
        <h2>Integrating Payolution Invoice Payment</h2>
        <p>To integrate invoice payments, two simple steps are needed: setting Payolution invoice payment configuration and calling the facade functions.</p>
        <h3>Setting Payolution Invoice Configuration</h3>
        <p>The configuration to integrate invoice payments using Payolution is:</p>
        <ul>
            <li class="bullet_list"><var>TRANSACTION_GATEWAY_URL</var>: the gateway URL to connect with Payolution services (required).</li>
            <li class="bullet_list"><var>TRANSACTION_SECURITY_SENDER </var>: the sender id (required).</li>
            <li class="bullet_list"><var>TRANSACTION_USER_LOGIN</var>: the sender username (required).</li>
            <li class="bullet_list"><var>TRANSACTION_USER_PASSWORD</var>: the sender password (required).</li>
            <li class="bullet_list"><var>TRANSACTION_MODE</var>: the mode of the transaction, either test or live (required).</li>
            <li class="bullet_list"><var>TRANSACTION_CHANNEL_PRE_CHECK</var>: a Payolution channel for handling pre-check requests, in case of using Pre-check (optional).</li>
            <li class="bullet_list"><var>TRANSACTION_CHANNEL_INVOICE</var>: a Payolution channel for handling invoice requests except Pre-check as it has its own channel (required).</li>
            <li class="bullet_list"><var>MIN_ORDER_GRAND_TOTAL_INVOICE</var>: the allowed minimum order grand total amount for invoice payments in the shop e.g. the minimum allowed payment is $2 (required).</li>
            <li class="bullet_list"><var>MAX_ORDER_GRAND_TOTAL_INVOICE</var>: the allowed maximum order grand total amount for invoice payments in the shop e.g. the maximum allowed payment is $5000 (required).</li>
            <li class="bullet_list"><var>PAYOLUTION_BCC_EMAIL_ADDRESS</var>: Payolution email address to send copies of payment details to Payolution.</li>
        </ul>
        <h3>Performing Requests</h3>
        <p>In order to perform the needed requests, you can easily use the implemented state machine commands and conditions. See <a href="payolution-requests.htm">Payolution — Performing Requests</a> for a summary. You can also use the facade methods directly which, however, are invoked by the state machine.</p>
        <p>&#160;</p>
        <p><b>See also:</b>
        </p>
        <ul>
            <li><a href="payolution.htm">Get acquainted with Payolution</a>
            </li>
            <li><a href="payolution-configuration.htm">Configure Payolution</a>
            </li>
            <li><a href="payolution-installment.htm">Configure Installment Payment
			for Payolution</a><![CDATA[           ]]></li>
            <li><a href="payolution-requests.htm">Set up Payolution Perform Requests</a><![CDATA[
			]]></li>
            <li><a href="payolution-workflow.htm">Check Payolution workflow </a><![CDATA[           ]]></li>
        </ul>
        <p>&#160;</p>
        <p><i>Last review date: Oct. 17th, 2017 </i>
            <MadCap:conditionalText MadCap:conditions="General.Hidden Comment"><i>by Darius Telyčėnas</i>
            </MadCap:conditionalText>
        </p>
    </body>
</html>