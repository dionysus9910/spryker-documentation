<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Spryker.ShopSuite" description="Heidelpay Configuration for SCOS contains instructions necessary for configuration of Heidelpay module into SCOS. The configuration consists of several steps: the configuration of the base settings, the configuration of store sensitive settings, and adding the  payment methods to State Machine (OMS) configuration.">
    <head>
        <link href="../../../../Resources/TableStyles/PatternedRows2.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>Heidelpay Configuration for SCOS | Spryker</title>
        <meta name="description" content="Heidelpay Configuration for SCOS contains instructions necessary for configuration of Heidelpay module into SCOS. The configuration consists of several steps: the configuration of the base settings, the configuration of store sensitive settings, and " />
    </head>
    <body>
        <h1>Heidelpay - Configuration <img src="../../../../Resources/Images/shoptype/B2B_Shop.png" /></h1>
        <p>Base settings are located in <var>config/Shared/config_default.php</var></p>
        <table style="width: 100%;mc-table-style: url('../../../../Resources/TableStyles/PatternedRows2.css');" class="TableStyle-PatternedRows2" cellspacing="0">
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <thead>
                <tr class="TableStyle-PatternedRows2-Head-Header1">
                    <td class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Configuration key</td>
                    <td class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Type</td>
                    <td class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Description</td>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows"><var>HeidelpayConstants::CONFIG_HEIDELPAY_SECURITY_SENDER</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Security sender merchant config value, got from Heidelpay.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows"><var>HeidelpayConstants::CONFIG_HEIDELPAY_USER_LOGIN</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">User login merchant config value, got from Heidelpay.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows"><var>HeidelpayConstants::CONFIG_HEIDELPAY_USER_PASSWORD</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">User password merchant config value, got from Heidelpay.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows"><var>HeidelpayConstants::CONFIG_HEIDELPAY_TRANSACTION_CHANNEL_CC_3D_SECURE</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Transaction channel for Credit Card payment method, got from Heidelpay</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows"><var>HeidelpayConstants::CONFIG_HEIDELPAY_TRANSACTION_CHANNEL_PAYPAL</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Transaction channel for Paypal payment method, got from Heidelpay</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows"><var>HeidelpayConstants::CONFIG_HEIDELPAY_TRANSACTION_CHANNEL_IDEAL</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Transaction channel for iDeal payment method, got from Heidelpay</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows"><var>HeidelpayConstants::CONFIG_HEIDELPAY_TRANSACTION_CHANNEL_SOFORT</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Transaction channel for Sofort payment method, got from Heidelpay</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows"><var>HeidelpayConstants::CONFIG_HEIDELPAY_APPLICATION_SECRET</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Application secret for sign requests.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows"><var>HeidelpayConstants::CONFIG_HEIDELPAY_SANDBOX_REQUEST</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">bool</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Setting for switching the requests to sandbox mode.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows"><var>HeidelpayConstants::CONFIG_YVES_CHECKOUT_PAYMENT_FRAME_CUSTOM_CSS_URL</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">URL Setting with custom styles for iframe.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows"><var>HeidelpayConstants::CONFIG_YVES_CHECKOUT_PAYMENT_FRAME_PREVENT_ASYNC_REDIRECT</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Settings required by Heidelpay. Has to be&#160;&#160;"FALSE".</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows"><var>HeidelpayConstants::CONFIG_ENCRYPTION_KEY</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">A key for encrypting Credit Card sensitive data.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyB-Regular-LightRows"><var>HeidelpayConstants::CONFIG_IS_SPLIT_PAYMENT_ENABLED_KEY</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyB-Regular-LightRows">bool</td>
                    <td class="TableStyle-PatternedRows2-BodyA-Regular-LightRows">Setting for enabling split payments.</td>
                </tr>
            </tbody>
        </table>
        <p>Store sensitive settings (DE, AT etc) can be found in <var>config/Shared/config_default_DE.php</var></p>
        <table style="width: 100%;mc-table-style: url('../../../../Resources/TableStyles/PatternedRows2.css');" class="TableStyle-PatternedRows2" cellspacing="0">
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <thead>
                <tr class="TableStyle-PatternedRows2-Head-Header1">
                    <td class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Configuration key</td>
                    <td class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Type</td>
                    <td class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Description</td>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows"><var>HeidelpayConstants::CONFIG_HEIDELPAY_LANGUAGE_CODE</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Language code for iframe and so on, DE for example.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows"><var>HeidelpayConstants::CONFIG_YVES_URL</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Must be the same as <var>ApplicationConstants::BASE_URL_YVES</var></td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows"><var>HeidelpayConstants::CONFIG_YVES_CHECKOUT_SUCCESS_URL</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">URL to return after success submit payment data. In general Checkout Success page.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows"><var>HeidelpayConstants::CONFIG_YVES_CHECKOUT_PAYMENT_FAILED_URL</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">URL to return after failure submit payment data. In general Checkout Payment page.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows"><var>HeidelpayConstants::CONFIG_YVES_CHECKOUT_IDEAL_AUTHORIZE_URL</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">URL to return after success submit iDeal payment data.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows"><var>HeidelpayConstants::CONFIG_YVES_CHECKOUT_PAYMENT_STEP_PATH</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Path to payment step. In general  <var>/checkout/payment</var></td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows"><var>HeidelpayConstants::CONFIG_YVES_CHECKOUT_SUMMARY_STEP_URL</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Summary step URL.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows"><var>HeidelpayConstants::CONFIG_YVES_CHECKOUT_ASYNC_RESPONSE_URL</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">URL to receive async requests from Heidelpay.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyB-Regular-LightRows"><var>HeidelpayConstants::CONFIG_YVES_CHECKOUT_REGISTRATION_SUCCESS_URL</var>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyB-Regular-LightRows">string</td>
                    <td class="TableStyle-PatternedRows2-BodyA-Regular-LightRows">URL to finish success registration of Credit Card.
</td>
                </tr>
            </tbody>
        </table>
        <p>Also, you have to add payment methods to <a href="../heidelpay.htm#Building">State Machine (OMS) configuration</a>:</p><pre xml:space="preserve"><code class="language-php line-numbers">$config[OmsConstants::PROCESS_LOCATION] = [
	...
	APPLICATION_ROOT_DIR . '/vendor/spryker-eco/heidelpay/config/Zed/Oms',
];
$config[OmsConstants::ACTIVE_PROCESSES] = [
	...
	'HeidelpaySofort01',
	'HeidelpayPaypalAuthorize01',
	'HeidelpayPaypalDebit01',
	'HeidelpayIdeal01',
	'HeidelpayCreditCardSecureAuthorize01',
];
$config[SalesConstants::PAYMENT_METHOD_STATEMACHINE_MAPPING] = [
	...
	HeidelpayConfig::PAYMENT_METHOD_CREDIT_CARD_SECURE =&gt; 'HeidelpayCreditCardSecureAuthorize01',
	HeidelpayConfig::PAYMENT_METHOD_SOFORT =&gt; 'HeidelpaySofort01',
	HeidelpayConfig::PAYMENT_METHOD_PAYPAL_AUTHORIZE =&gt; 'HeidelpayPaypalAuthorize01',
	HeidelpayConfig::PAYMENT_METHOD_PAYPAL_DEBIT =&gt; 'HeidelpayPaypalDebit01',
	HeidelpayConfig::PAYMENT_METHOD_IDEAL =&gt; 'HeidelpayIdeal01',
];</code></pre>
        <p>&#160;</p>
        <p><i>Last
        review date: Dec. 7th, 2018</i>
            <MadCap:conditionalText MadCap:conditions="General.Hidden Comment"><i> by Aleksey Kotsuba, Oksana Karasyova</i>
            </MadCap:conditionalText>
        </p>
    </body>
</html>