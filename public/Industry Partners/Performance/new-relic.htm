<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Spryker.DemoShop,Spryker.ShopSuite,Spryker.B2C">
    <head><title>Peformance Monitoring - New Relic</title>
    </head>
    <body>
        <h1>Peformance Monitoring - New Relic <img src="../../Resources/Images/shoptype/B2C_Shop.png" /> <img src="../../Resources/Images/shoptype/MasterSuite.png" /> <img src="../../Resources/Images/shoptype/Demoshop.png" /></h1>
        <h2>New Relic Monitoring</h2>
        <p>Spryker enables integration with New Relic for performance monitoring. New Relic contains a set of powerful features that help you monitor the performance and health of your application. To be able to use New Relic you must first get an account. Next, you will need to install the New Relic PHP extension in your virtual machine by following the steps described <a href="https://rpm.newrelic.com/accounts/1131235/applications/setup">New Relic Setup instructions</a>.</p>
        <h2>General Information</h2>
        <p>The <code>spryker-eco/new-relic</code> module provides a <code>NewRelicMonitoringExtensionPlugin</code> to send monitoring information to the New Relic service.</p>
        <h2>Installation</h2>
        <p>To install New Relic module, run:</p><pre><code class="language-bash">composer require spryker-eco/new-relic</code></pre>
        <h2>New Relic Logs Configuration </h2>
        <h3>Request Logging</h3>
        <p>Every request is automatically logged by New Relic. The name of the requests will be the name of the used route for Yves and the <code>[module]/[controller]/[action]</code> for Zed. You’ll also find the request URI and the host stored as custom parameters for each request.</p>
        <h3>Error Logging</h3>
        <p>Every error will be logged in New Relic together with its detailed stack trace.</p>
        <h3>Console Command Logging</h3>
        <p>Every executed console command will be logged by New Relic.</p>
        <h3>Deployment Logging</h3>
        <p>To be able to use the deployment recording feature of New Relic, you need to add your <code>api_key</code> and <code>deployment_api_url</code> to the project config. The API key is generated on your New Relic account. Open your account settings in NewRelic and enable the API Access in the Data Sharing page. After enabling you’ll get your API key.</p><pre><code class="language-PHP">
$config[\SprykerEco\Shared\NewRelic\NewRelicEnv::NEWRELIC_API_KEY] = 'YOUR_API_KEY';

$config[\SprykerEco\Shared\NewRelic\NewRelicEnv::NEW_RELIC_DEPLOYMENT_API_URL] = 'NEW_RELIC_DEPLOYMENT_API_URL';
				</code></pre>
        <h2>Implementation Overview</h2>
        <p>Monitoring is a Spryker Module and it provides a hook to add any monitoring provider you want to. In the Monitoring Module, you can find some service provider and controller listener for Yves and Zed which needs to be added to the <code>ApplicationDependencyProvider</code> to enable them.</p>
        <h2>New Relic API</h2>
        <p>You can add custom New Relic events in your application with the API wrapper for New Relic that you can find in <code>\SprykerEco\Service\NewRelic\Plugin\NewRelicMonitoringExtensionPlugin</code>. To read more detailed information about the available API methods, please read the following documentation: <a href="https://docs.newrelic.com/docs/agents/php-agent/php-agent-api">New Relic API</a>.</p>
        <p>&#160;</p>
        <h2>Copyright and Disclaimer</h2>
        <p>See <a href="https://github.com/spryker/spryker-documentation" target="_blank">Disclaimer</a>.</p>
        <p>&#160;</p>
        <p><i>Last review date: Aug. 10th, 2018 </i>
            <MadCap:conditionalText MadCap:conditions="General.Hidden Comment"><i>by Oleksandr Galych</i>
            </MadCap:conditionalText>
        </p>
    </body>
</html>