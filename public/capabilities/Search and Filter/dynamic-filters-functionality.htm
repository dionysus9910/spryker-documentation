<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="" MadCap:conditions="Spryker.B2B,Spryker.B2C,Spryker.MultiLanguage">
    <head><title>Dynamic Filters Functionality</title>
    </head>
    <body>
        <h1>Dynamic Filters Functionality <img src="../../Resources/Images/shoptype/B2B_Shop.png" /> <img src="../../Resources/Images/shoptype/B2C_Shop.png" /></h1>
        <p>
            <MadCap:popup>
                <MadCap:popupHead>ML</MadCap:popupHead>
                <MadCap:popupBody>Multi-language</MadCap:popupBody>
            </MadCap:popup>
        </p>
        <p>In Zed there’s a section (<i>Search and Filters -&gt; Filter Preferences</i>) for managing the product attributes that you’d like to filter by in the shop.</p>
        <p>There are several filter types that the framework supports at the moment:</p>
        <ul>
            <li class="bullet_list">single-select: filter for one value at a time (e.g. radio group),</li>
            <li class="bullet_list">multi-select: filter multiple values at a time (e.g. checkbox group),</li>
            <li class="bullet_list">range: filter using numeric ranges.</li>
        </ul>
        <p>Similar to search preferences, after adding/updating all necessary filters, you’ll need to apply the changes by clicking on the “Synchronize filter preferences” button. This will trigger an action that searches for all products that have those attributes and that were modified since the last synchronization and touches them. This means that next time, the search collector execution will update the necessary products, so they will be available when submitting a filtered search query.</p>
        <p>To be able to use the dynamic filters, there are several things that you need to take care of.</p>
        <ol>
            <li>Make sure you use the necessary plugins for <a href="search_query.htm#Faceted">faceted navigation and filters</a>.</li>
            <li>Make sure to register <var>\Spryker\Zed\ProductSearch\Communication\Plugin\ProductSearchConfigExtensionCollectorPlugin</var> under <var>Spryker\Zed\Collector\CollectorDependencyProvider::STORAGE_PLUGINS</var>. This collector plugin will collect product search related configuration information from the database and persist it in the Redis storage, so the front-end can access this information fast enough whenever a search query is executed.</li>
            <li>To make use of the collected data (i.e. read it from redis) and extend the static search configuration, you’ll need to add an instance of <var>\Spryker\Client\ProductSearch\Plugin\Config\ProductSearchConfigExpanderPlugin</var> to <var>Pyz\Client\Search\SearchDependencyProvider::createSearchConfigExpanderPlugins()</var> as shown below.</li>
        </ol><pre><code class="language-PHP line-numbers">&lt;?php

namespace Pyz\Client\Search;

use Spryker\Client\Kernel\Container;
use Spryker\Client\ProductSearch\Plugin\Config\ProductSearchConfigExpanderPlugin;
use Spryker\Client\Search\SearchDependencyProvider as SprykerSearchDependencyProvider;

class SearchDependencyProvider extends SprykerSearchDependencyProvider
{

    /**
     * @param \Spryker\Client\Kernel\Container $container
     *
     * @return \Spryker\Client\Search\Dependency\Plugin\SearchConfigExpanderPluginInterface[]
     */
    protected function createSearchConfigExpanderPlugins(Container $container)
    {
        $searchConfigExpanderPlugins = parent::createSearchConfigExpanderPlugins($container);

        $searchConfigExpanderPlugins[] = new ProductSearchConfigExpanderPlugin();

        return $searchConfigExpanderPlugins;
    }

}</code></pre>
        <p>After these steps you should be able to retrieve the necessary data to render filters, after executing a search request.</p>
    </body>
</html>