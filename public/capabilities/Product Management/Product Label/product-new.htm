<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Spryker.B2B,Spryker.B2C,Spryker.DemoShop,Spryker.ShopSuite">
    <head><title>New Products | Spryker</title>
        <meta name="description" content="New products feature extends product module by two date attributes: &quot;new from&quot; and &quot;new to&quot; dates." />
    </head>
    <body>
        <h1>New Products <img src="../../../Resources/Images/shoptype/B2B_Shop.png" /> <img src="../../../Resources/Images/shoptype/B2C_Shop.png" /> <img src="../../../Resources/Images/shoptype/MasterSuite.png" /> <img src="../../../Resources/Images/shoptype/Demoshop.png" /></h1>
        <h2>Overview</h2>
        <p>
            New products feature extends product module by two date attributes: "new from" and "new to" dates. Between the
            defined date range the product is considered new. New products on the frontend appear with a label on it that
            displays this information for users who search for fresh stuff.
        </p>
        <h2>Feature Integration</h2>
        <h3>Prerequisites</h3>
        <p><strong>To prepare your project to work with New Products</strong>:</p>
        <table style="margin-left: 0; margin-right: auto;">
            <col />
            <col />
            <tbody>
                <tr>
                    <td>1.</td>
                    <td>
                        <p>
                            Make sure you have the correct versions of the required modules.
                            To automatically update to the latest non-BC breaking versions, run the following command:
                        </p>
                    </td>
                </tr>
                <tr>
                    <td>&#160;</td>
                    <td>
                        <p><var>composer update "spryker/*"</var>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td>2.</td>
                    <td>
                        <p>Require the module in your <var>composer.json</var> by running: </p>
                    </td>
                </tr>
                <tr>
                    <td>&#160;</td>
                    <td>
                        <p><var>composer require spryker/product-new</var>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td>3.</td>
                    <td>
                        <p>Install the database changes by running:</p>
                    </td>
                </tr>
                <tr>
                    <td>&#160;</td>
                    <td>
                        <p><var>vendor/bin/console propel:diff</var>
                        </p>
                        <p>Propel should generate a migration file with the changes.</p>
                    </td>
                </tr>
                <tr>
                    <td>4.</td>
                    <td>
                        <p>Apply the database changes, run: </p>
                    </td>
                </tr>
                <tr>
                    <td>&#160;</td>
                    <td><var>vendor/bin/console propel:migrate</var>
                    </td>
                </tr>
                <tr>
                    <td>5.</td>
                    <td>
                        <p>To re-generate ORM models, run: </p>
                    </td>
                </tr>
                <tr>
                    <td>&#160;</td>
                    <td><var>vendor/bin/console propel:model:build</var>
                    </td>
                </tr>
                <tr>
                    <td>6.</td>
                    <td>
                        <p>To get the transfer object changes, run:</p>
                    </td>
                </tr>
                <tr>
                    <td>&#160;</td>
                    <td>
                        <p><var>vendor/bin/console transfer:generate</var>
                        </p>
                    </td>
                </tr>
                <tr>
                    <td>7.</td>
                    <td>
                        <p>
                            Set up a Product Label in your database that matches the label name from the module configuration
                            which is called <code>"NEW"</code> by default (defined in <var>\Spryker\Shared\ProductNew\ProductNewConfig::getLabelNewName()</var>).
                        </p>
                    </td>
                </tr>
                <tr>
                    <td>8.</td>
                    <td>
                        <p>Activate the plugin that updates product label relations for new products:</p>
                    </td>
                </tr>
                <tr>
                    <td>&#160;</td>
                    <td>
                        <p>Add <var>ProductNewLabelUpdaterPlugin</var> to the product label relation updater plugin stack, see example below:</p>
                    </td>
                </tr>
            </tbody>
        </table><pre><code class="language-PHP line-numbers">&lt;?php

namespace Pyz\Zed\ProductLabel;

use Spryker\Zed\ProductLabel\ProductLabelDependencyProvider as SprykerProductLabelDependencyProvider;
use Spryker\Zed\ProductNew\Communication\Plugin\ProductNewLabelUpdaterPlugin;

class ProductLabelDependencyProvider extends SprykerProductLabelDependencyProvider
{

    /**
     * @return \Spryker\Zed\ProductLabel\Dependency\Plugin\ProductLabelRelationUpdaterPluginInterface[]
     */
    protected function getProductLabelRelationUpdaterPlugins()
    {
        return [
            // ...
            new ProductNewLabelUpdaterPlugin(),
        ];
    }

}
</code></pre>
        <h3>Data Setup</h3>
        <p>
            You should now be able to run the <var>vendor/bin/console product-label:relations:update</var> console command
            that updates product label relations for new products as well based on their "new from - to" date range.
        </p>
        <p MadCap:conditions="Spryker.DemoShop">
            All you need to do now is just to set up your products with the appropriate "new from" and "new to" dates.
            After this your products should have the "NEW" label assigned to them that you can render on the frontend.
            <MadCap:conditionalText MadCap:conditions="Spryker.DemoShop">If you need some examples and ideas about this feature, check out our <a href="https://github.com/spryker/demoshop" target="_blank">Demoshop implementation</a>.
        </MadCap:conditionalText></p>
    </body>
</html>