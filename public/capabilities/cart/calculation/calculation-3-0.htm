<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Spryker.DemoShop,Spryker.B2B,Spryker.B2C,Spryker.ShopSuite">
    <head><title>Calculation 3.0 | Spryker</title>
        <link href="../../../Resources/TableStyles/PatternedRows.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <meta name="description" content="Spryker uses the Calculation module to calculate the cart totals that are displayed in the cart/checkout or when the order is placed." />
    </head>
    <body>
        <h1>Calculation 3.0 <img src="../../../Resources/Images/shoptype/B2B_Shop.png" /> <img src="../../../Resources/Images/shoptype/B2C_Shop.png" /> <img src="../../../Resources/Images/shoptype/MasterSuite.png" /> <img src="../../../Resources/Images/shoptype/Demoshop.png" /></h1>
        <p>
            <MadCap:relatedTopics target="_self" style="mc-label: 'Verisons';mc-help-control-display: list;mc-use-custom-sort-order: true;">
                <MadCap:relatedTopic src="calculation.htm" />
            </MadCap:relatedTopics>
        </p>
        <p class="important">The latest version of this module can be found here <MadCap:xref href="calculation.htm">Calculation</MadCap:xref></p>
        <p>Spryker uses the Calculation module to calculate the cart totals that are displayed in the cart/checkout or when the order is placed.

</p>
        <p>The calculation module extensively uses plugins to inject calculation algorithms.
</p>
        <h1>How Calculation Works</h1>
        <p class="info">Quote Transfer

<br />The quote transfer object is used to store data and plugins that calculate the amounts.
</p>
        <p>There is already a list of plugins which populate quote transfer with corresponding data. Calculations are executed every time the content of the cart is updated.</p>
        <p class="tip">For more details check <MadCap:xref href="../Cart Functionality and Calculations/cart-functionality.htm#CartDataFlow">Cart Data Flow</MadCap:xref>.
</p>
        <p>If manual recalculation of cart is required, then <var>CalculationFacade::recalculate</var> can be called from Zed or <var>CalculationClient::recalculate</var> from Yves with prepared <MadCap:xref href="calculation-data-structure.htm#Quote_Transfer">Quote Transfer
</MadCap:xref>. When the recalculation operation is called, the calculator runs the calculator plugin stack and each plugin modifies the QuoteTransfer (calculates discounts, adds sum gross prices, calculates taxes, etc.). Most plugins require the <var>unitGrossPrice</var> and the <var>quantity</var> to be provided.

</p>
        <p class="tip">Calculated amounts

<br />Each amount is being calculated and stored in cents.
</p>
        <h1>Calculator Plugins</h1>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Click to view</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>
Calculator plugins are registered in the <var>CalculationDependencyProvider::getCalculatorStack()</var> method. This method can be extended on the project level and the plugin stack can be updated with your own plugins.

Each calculator must implement <var>CalculatorPluginInterface</var>. </p>
                <p>
                    <p>For more information see:&#160;</p>
                </p><pre><code class="language-PHP line-numbers">&lt;?php
interface CalculatorPluginInterface
{
    /**
     * @param QuoteTransfer $quoteTransfer
     *
    public function recalculate(QuoteTransfer $quoteTransfer);
}</code></pre>
                <p>&#160;</p>
                <ul>
                    <li class="bullet_list"><![CDATA[
]]><strong>RemoveTotalsCalculatorPlugin</strong> - Resets quote totals, sets TotalsTransfer empty.
</li>
                    <li class="bullet_list"><strong>RemoveAllCalculatedDiscountsCalculatorPlugin </strong>- Resets every CalculatedDiscountTransfer.

</li>
                    <li class="bullet_list"><strong>ItemGrossAmountsCalculatorPlugin</strong> - Calculates <var>sumGrossPrice</var> for each ItemTransfer.
</li>
                </ul><pre><code class="language-PHP line-numbers">ItemTransfer::sumGrossPrice = ItemTransfer::unitGrossPrice * ItemTransfer::quantity</code></pre>
                <ul>
                    <li class="bullet_list"><strong>ProductOptionGrossSumCalculatorPlugin</strong> - <var>Calculates unitGrossPriceWithProductOptions</var>, <var>sumGrossPriceWithProductOptions </var>for ItemTransfer and <var>sumGrossPrice</var> for ProductOptionTransfer.
</li>
                </ul><pre><code class="language-PHP line-numbers">ProductOptionTransfer::sumGrossPrice = ProductOptionTransfer::unitGrossPrice * ProductOptionTransfer::quantity
ItemTransfer::unitGrossPriceWithProductOptions = sum(ProductOptionTransfer::unitGrossPrice) + ItemTransfer::unitGrossPrice
ItemTransfer::sumGrossPriceWithProductOptions = sum(ProductOptionTransfer::sumGrossPrice) + ItemTransfer:sumGrossPrice
</code></pre>
                <ul>
                    <li class="bullet_list"><strong>SubtotalTotalsCalculatorPlugin</strong> - Sums each of the <var>sumGrossPriceWithProductOptions</var> items.</li>
                </ul><pre><code class="language-PHP line-numbers">TotalsTransfer::subtotal = sum(ItemTransfer::sumGrossPriceWithProductOptions)
</code></pre>
                <ul>
                    <li class="bullet_list"><strong>ExpensesGrossSumAmountCalculatorPlugin</strong> - Calculates <var>sumGrossPrice</var> for each item.
</li>
                </ul><pre><code class="language-PHP line-numbers">ExpenseTransfer::sumGrossPrice = ExpenseTransfer::unitGrossPrice * ExpenseTransfer::quantity
</code></pre>
                <ul>
                    <li class="bullet_list"><strong>ExpenseTotalsCalculatorPlugin</strong> - Calculates <var>expenseTotal</var> in TotalsTransfer.</li>
                </ul><pre><code class="language-PHP line-numbers">TotalsTransfer::expenseTotal = sum(ExpenseTransfer::sumGrossPrice)
</code></pre>
                <ul>
                    <li class="bullet_list"><strong>DiscountCalculatorPlugin</strong> - Applies discounts to current QuoteTransfer each discountable item with property <var>calculatedDiscounts</var>, gets discounts filled. Also <var>voucherDiscounts </var>and <var>cartRuleDiscounts</var> are populated with additional used discount data for order level.</li>
                </ul>
                <p class="info">Discount Calculation
<br />Discount calculation is a separate topic and is explained here <MadCap:xref href="../../Promotions and Discounts/discount-module-overview.htm">Discount</MadCap:xref>.
</p>
                <ul>
                    <li class="bullet_list"><strong>SumGrossCalculatedDiscountAmountCalculatorPlugin</strong> - Calculates and sets <var>ItemTransfer</var> amounts after discounts to <var>sumGrossPriceWithProductOptionAndDiscountAmounts</var> and <var>unitGrossPriceWithProductOptionAndDiscountAmounts;</var> sets expense amounts after discounts to <var>unitGrossPriceWithDiscounts</var> and <var>sumGrossPriceWithDiscounts</var>.</li>
                </ul><pre><code class="language-PHP line-numbers">ItemTransfer::unitGrossPriceWithProductOptionAndDiscountAmounts = ItemTransfer::unitGrossPriceWithProductOptions -  (sum(ItemTransfer:calculatedDiscounts::unitGrossPrice) + sum(ProductOptionTransfer::calculatedDiscounts::unitGrossPrice))
ItemTransfer::sumGrossPriceWithProductOptionAndDiscountAmounts = ItemTransfer::sumGrossPriceWithProductOptions -  (sum(ItemTransfer:calculatedDiscounts::sumGrossPrice) + sum(ProductOptionTransfer::calculatedDiscounts::sumGrossPrice))
</code></pre>
                <ul>
                    <li class="bullet_list"><strong>DiscountTotalsCalculatorPlugin</strong> - Calculates total for discounts used and sets it to <var>totalDiscount</var> in <var>TotalsTransfer</var>. Sum all discountable item <var>CalculatedDiscountTransfer</var> gross amounts:</li>
                </ul><pre><code class="language-PHP line-numbers">TotalsTransfer:discountTotal += sum(ItemTransfer::CalculateDiscountTransfer::sumGrossAmount +
ItemTransfer::ProductOptionTransfer::CalculateDiscountTransfer::sumGrossAmount + ExpenseTransfer::sumGrossAmount)
GrandTotalTotalsCalculatorPlugin - Calculates grandTotal in TotalsTransfer.
TotalsTransfer:grandTotal = TotalsTransfer::subtotal + TotalsTransfer:expenseTotal
</code></pre>
                <ul>
                    <li class="bullet_list"><strong>GrandTotalWithDiscountsCalculatorPlugin</strong> - Calculates <var>GrandTotal </var>after discounts in <var>TotalsTransfer</var>.</li>
                </ul><pre><code class="language-PHP line-numbers">TotalsTransfer:grandTotal = TotalsTransfer::subtotal + TotalsTransfer:expenseTotal - TotalsTransfer::discountTotal
</code></pre>
                <ul>
                    <li class="bullet_list"><strong>TaxTotalsCalculatorPlugin</strong> - Calculates <var>taxTotal </var>and <var>taxRate</var> used from T<var>otalTransfer::grandTotal</var>, sets it in <var>TotalsTransfer::TaxTotalsTransfer</var>.</li>
                </ul><pre><code class="language-PHP line-numbers">TaxableItems = ItemTransfer, ProductOptionTransfer, ExpenseTransfer. TaxTotalsTransfer::taxRate = sum(TaxableItems) / TaxableItems TaxTotalsTransfer::taxAmount = round((TotalsTransfer::grandTotal * TaxTotalsTransfer::taxRate) / TaxTotalsTransfer::taxRate / 100)
</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <h1>Calculation Data Structure</h1>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><a name="Quote_Transfer"></a>Quote Transfer
</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p class="note">QuoteTransfer is the main data transfer object used in Cart, Calculation, Checkout and when order is placed. This object is created when first item is added to the cart. The entire data object is stored into the session. It consists of:
</p>
                <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../Resources/TableStyles/PatternedRows.css');margin-left: 0;margin-right: auto;width: 60%;" cellspacing="0">
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <thead>
                        <tr class="TableStyle-PatternedRows-Head-Header1">
                            <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Field	</th>
                            <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Description
</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>totals (<a href="#totals_transfer">TotalsTransfer</a>)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>Order totals.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>items (<a href="#item_transfer">ItemTransfer</a>[])	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>CartItem collection.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>voucherDiscounts (<a href="#discount_transfer">DiscountTransfer</a>[])</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>&#160;</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>cartRuleDiscounts  (<a href="#discount_transfer">DiscountTransfer</a>[])</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>&#160;</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>expenses (<a href="#expense_transfer">ExpenseTransfer</a>)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>&#160;</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>billingAddress (AddressTransfer)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>Current checkout customer billing address.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>shippingAddress (AddressTransfer)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>Current checkout customer shipment address.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>customer (CustomerTransfer)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>Current checkout customer details.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>orderReference (string)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>
	

	 
	 
	 
	
	
	
Current checkout order reference, available after<var> PlaceOrderStep</var>.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>payment (PaymentTransfer)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>Information about currently selected payment, available after <var>PaymentStep</var>.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">
                                <p>shipment (ShipmentTransfer)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">
                                <p>Information about currently selected shipment, available after <var>ShipmentStep</var>.
</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><a name="totals_transfer"></a>
	
	Totals Transfer
</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>TotalsTransfer is a data object holding cart totals, subtotal, expenses (shipping), discount total and grand total. Here should the amounts for order level be stored.</p>
                <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../Resources/TableStyles/PatternedRows.css'); margin-left: 0; margin-right: auto;" cellspacing="0">
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <thead>
                        <tr class="TableStyle-PatternedRows-Head-Header1">
                            <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Field	</th>
                            <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Description
</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>

subtotal (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>Calculated total amount before taxes and discounts. Is set by <var>SubtotalTotalsCalculatorPlugin</var>.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>	
expenseTotal (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>Total expenses amount (shipping). It is set by <var>ExpenseTotalsCalculatorPlugin</var>.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>discountTotal (int)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>Total discount amount. It is set by <var>DiscountTotalsCalculatorPlugin</var>.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>	taxTotal (<a href="#tax_total_transfer">TaxTotalsTransfer</a>)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>Tax totals for current cart. Is set by <var>TaxTotalsCalculatorPlugin</var>.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>grandTotal (int)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>The total amount the customer needs to pay after the discounts are applied. 
It is set by <var>GrandTotalWithDiscountsCalculatorPlugin</var> calculator plugin.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyB-Regular-DarkerRows">
                                <p>hash (string)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyA-Regular-DarkerRows">
                                <p>Hash from total values to identify amount changes. It is set by <var>GrandTotalCalculatorPlugin</var>.
</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><a name="tax_total_transfer"></a>Tax Total Transfer
</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>TaxTotalsTransfer holds taxRate and taxAmount used for grandTotal.
</p>
                <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../Resources/TableStyles/PatternedRows.css');margin-left: 0;margin-right: auto;width: 100%;" cellspacing="0">
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <thead>
                        <tr class="TableStyle-PatternedRows-Head-Header1">
                            <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Field	</th>
                            <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Description
</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>taxRate (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>current tax rate in percentage.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyB-Regular-DarkerRows">
                                <p>amount (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyA-Regular-DarkerRows">
                                <p>
		current tax amount from grandTotal.</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><a name="item_transfer"></a>Item Transfer</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>ItemTransfer is a cart item transfer, holds single product information.

</p>
                <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../Resources/TableStyles/PatternedRows.css'); margin-left: 0; margin-right: auto;" cellspacing="0">
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <thead>
                        <tr class="TableStyle-PatternedRows-Head-Header1">
                            <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Field	</th>
                            <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Description
</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>id (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>
	id of the concrete product.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>sku (string)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>
	concrete product sku.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>groupKey (string)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>group key used for grouping items in cart.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>quantity (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>number of items selected.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>idSalesOrderItem (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>id of order item, stored when items is saved, after PlaceOrderStep.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>name (string)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>concrete product name.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>idProductAbstract (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>id of abstract product.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>abstractSku (string)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>abstract product sku.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>variety (string)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>used when item is in a module.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>status (string)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>
	
			
		
	state machine state when item used as order item.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>addedAt (string)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>
	used in wishlist to have date when item was added.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>productConcrete (ProductConcreteTransfer)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>concrete product details added in the wishlist.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>unitGrossPrice (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>	single item gross price. It’s set with <var>CartItemPricePlugin</var> cart expander plugin.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>sumGrossPrice (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>sum of items gross price. Calculated with <var>ExpensesGrossSumAmountCalculatorPlugin</var>.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>unitGrossPriceWithDiscounts (int)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>unit gross price after the discounts are applied. It’s set by <var>SumGrossCalculatedDiscountAmountCalculatorPlugin</var>.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>sumGrossPriceWithDiscounts (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>sum of item gross price after discounts. It’s set by <var>SumGrossCalculatedDiscountAmountCalculatorPlugin</var>.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>
		
taxRate (int)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>current tax rate. It’s set by <var>ProductCartPlugin</var> cart expander plugin.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>unitGrossPriceWithProductOptions (int)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>single item with product options gross price. It’s set by <var>ProductOptionGrossSumCalculatorPlugin</var>.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>sumGrossPriceWithProductOptions (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>sum of item gross price with product options. It’s set by <var>ProductOptionGrossSumCalculatorPlugin</var>.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>unitGrossPriceWithProductOptionAndDiscountAmounts (int)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>single item with product options gross price and after discounts. It’s set by <var>SumGrossCalculatedDiscountAmountCalculatorPlugin</var>.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>
	
sumGrossPriceWithProductOptionAndDiscountAmounts (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>sum of item gross price with product options and after discounts. It’s set by <var>SumGrossCalculatedDiscountAmountCalculatorPlugin</var>.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>unitTaxAmountWithProductOptionAndDiscountAmounts (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>		single item tax amount with product options after discounts. (order only).
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>sumTaxAmountWithProductOptionAndDiscountAmounts (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>sum of items gross price with product options after discounts. (order only).</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>refundableAmount (int)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>	
item available refundable amount (order only).
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>unitTaxAmount (int)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>tax amount for single item (order only).</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>
sumTaxAmount (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>tax amount for sum of items (order only).
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>	calculatedDiscounts[] (<a href="#calculated_discount_transfer">CalculatedDiscountTransfer</a>)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>item calculated discount collection. It’s set by <var>DiscountCalculatorPlugin</var>.
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>	canceledAmount (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>	canceled amount for this item (order only).
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">
                                <p>productOptions (<a href="#product_option_transfer">ProductOptionTransfer</a>[])	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">
                                <p>assigned product options. It’s set by <var>CartItemProductOptionPlugin</var> cart expander plugin.
</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><a name="calculated_discount_transfer"></a>Calculated Discount Transfer
</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>Each item which can have discounts applied have calculatedDiscounts property added which holds collection of discounts for each discount type.

</p>
                <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../Resources/TableStyles/PatternedRows.css'); margin-left: 0; margin-right: auto;" cellspacing="0">
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <thead>
                        <tr class="TableStyle-PatternedRows-Head-Header1">
                            <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Field	</th>
                            <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Description
</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>displayName (string)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>applied discount name</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>description (string)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>applied discount description</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>voucherCode (string)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>

	used voucher code</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>quantity(int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>
	number of discounted items</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>
unitGrossAmount (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>	discount gross amount for single items; It’s set by <var>DiscountCalculatorPlugin</var></p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyB-Regular-DarkerRows">
                                <p>sumGrossAmount (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyA-Regular-DarkerRows">
                                <p>discount gross amount for sum of items; It’s set by <var>DiscountCalculatorPlugin</var></p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><a name="product_option_transfer"></a>Product Option Transfer
</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>ProductOptionTransfer, some items may have product option collection attached which also have amounts calculated.
</p>
                <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../Resources/TableStyles/PatternedRows.css'); margin-left: 0; margin-right: auto;" cellspacing="0">
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <thead>
                        <tr class="TableStyle-PatternedRows-Head-Header1">
                            <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Field	</th>
                            <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Description
</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>
idSalesOrderItemOption (int)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>id of sales order item option stored after the order is placed</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>
unitGrossPrice (int)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>single item gross price. It’s set <var>by CartItemProductOptionPlugin </var>cart expander plugin</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>
sumGrossPrice (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>sum of items gross price. It’s set by <var>ProductOptionGrossSumCalculatorPlugin</var> cart expander plugin</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>	
taxRate (int)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>tax rate in percentage. It’s set by <var>CartItemProductOptionPlugin</var> cart expander plugin</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>calculatedDiscounts[] (<a href="#calculated_discount_transfer">CalculatedDiscountTransfer</a>)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>product Option calculated discount collection. It’s set by <var>DiscountCalculatorPlugin</var></p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>
	
refundableAmount (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>item available refundable amount (order only)</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>	
unitTaxAmount (int)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>tax amount for single product option (order only)</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyB-Regular-DarkerRows">
                                <p>
sumTaxAmount (int)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyA-Regular-DarkerRows">
                                <p>tax amount for sum of product options (order only)
</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><a name="discount_transfer"></a>Discount Transfer
</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>DiscountTransfer, is a collection of discounts used in all QuoteTransfer discountable items.It can be voucherDiscounts or cartRuleDiscounts.

</p>
                <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../Resources/TableStyles/PatternedRows.css'); margin-left: 0; margin-right: auto;" cellspacing="0">
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <thead>
                        <tr class="TableStyle-PatternedRows-Head-Header1">
                            <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Field	</th>
                            <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Description
</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>displayName (string)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>discount name
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>	idDiscount (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>	id of discount, as stored in the discount table</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>
description (string)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>description of the applied discount</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>	
calculatorPlugin (string)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>discount calculator plugin used to calculate this discount (Fixed, Percentage)</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>	
isPrivileged (bool)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>is the discount privileged, can be combined with other discounts</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>isActive (bool)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>
	is the discount active
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>validFrom (string)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>starting date for discount validity</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>validTo (string)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>ending date for discount validity</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>collectorLogicalOperator (string)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>
	
	logical operator for collector (OR, AND) when combining multiple discounts
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>discountCollectors (DiscountCollectionTransfer[])</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>	list of discount collectors used for this discount</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">
                                <p>amount (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">
                                <p>total discount amount used for this discount type. It’s set by <var>DiscountCalculatorPlugin</var></p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><a name="expense_transfer"></a>ExpenseTransfer
</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../Resources/TableStyles/PatternedRows.css'); margin-left: 0; margin-right: auto;" cellspacing="0">
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <col class="TableStyle-PatternedRows-Column-Regular" />
                    <thead>
                        <tr class="TableStyle-PatternedRows-Head-Header1">
                            <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Field	</th>
                            <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Description
</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>idExpense (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>unique identifier of the expense</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>sumGrossPrice (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>	
	sum of item gross price. It’s set by <var>ExpensesGrossSumAmountCalculatorPlugin</var></p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>unitGrossPrice (string)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>single expense price. e.g.: shipment expenses are set in the <var>ShipmentStep</var></p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>
	
type (string)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>type of expense (shipping)</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>
taxRate (int)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>tax in percents
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>calculatedDiscounts (CalculatedDiscountTransfer[])</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>list of applied discounts for this item
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>	quantity (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>number of items</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>idSalesExpense (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>id of expense as stored in the sales_expense</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>unitGrossPriceWithDiscounts (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>single item price after discounts. Set by <var>SumGrossCalculatedDiscountAmountCalculator</var> and <var>OrderAmountAggregator\ItemDiscounts</var></p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>sumGrossPriceWithDiscounts (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>sum off all item prices after discounts. Set by <var>SumGrossCalculatedDiscountAmountCalculator </var>and <var>OrderAmountAggregator\ItemDiscounts
</var></p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>unitTaxAmountWithDiscounts (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>tax amount for single item after discounts(order only)</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>sumTaxAmountWithDiscounts (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>tax amount for sum of items after discounts(order only)
</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-LightRows">
                                <p>refundableAmount (int)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-LightRows">
                                <p>	
	
	
		
	total refundable amount for this item (order only)</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-DarkerRows">
                            <td class="TableStyle-PatternedRows-BodyE-Regular-DarkerRows">
                                <p>
canceledAmount (int)</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyD-Regular-DarkerRows">
                                <p>total cancelled amount for this item (order only)</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-PatternedRows-Body-LightRows">
                            <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">
                                <p>	
unitTaxAmount (int)	</p>
                            </td>
                            <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">
                                <p>tax amount for single item (order only)
sumTaxAmount (int)	tax amount for sum of items (order only)</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
    </body>
</html>