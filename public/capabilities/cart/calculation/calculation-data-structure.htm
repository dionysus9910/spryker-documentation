<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="" MadCap:conditions="Spryker.B2B,Spryker.B2C,Spryker.DemoShop,Spryker.ShopSuite">
    <head><title>Calculation Data Structure | Spryker</title>
        <link href="../../../Resources/TableStyles/PatternedRows.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <meta name="description" content="The diagram in this topic covers the Calculation Data Structure, as well as the available transfer objects, fields and their descriptions." />
    </head>
    <body>
        <h1>Calculation Data Structure <img src="../../../Resources/Images/shoptype/B2B_Shop.png" /> <img src="../../../Resources/Images/shoptype/B2C_Shop.png" /> <img src="../../../Resources/Images/shoptype/MasterSuite.png" /> <img src="../../../Resources/Images/shoptype/Demoshop.png" /></h1>
        <p>The following diagram illustrates the Calculation data structure.</p>
        <p>
            <img src="../../../Resources/Images/calculation.png" title="Click Me" alt="Calculation Data structure" />
        </p>
        <p MadCap:conditions="General.Image_Source,General.Hidden Comment">https://www.gliffy.com/go/share/image/s10i1vjqws97tfgk4bi0.png?utm_medium=live-embed&amp;utm_source=custom</p>
        <h3><a name="Quote_Transfer"></a>Quote Transfer
</h3>
        <p>
            <br />QuoteTransfer is the main data transfer object used in Cart, Calculation, Checkout and when order is placed. This object is created when first item is added to the cart. </p>
        <p>The entire data object is stored into the session and it consists of:
</p>
        <table class="TableStyle-PatternedRows2" style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/TableStyles/PatternedRows2.css');" cellspacing="0">
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <thead>
                <tr class="TableStyle-PatternedRows2-Head-Header1">
                    <th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Field	</th>
                    <th class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Description
</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>totals (<a href="#totals_transfer">TotalsTransfer</a>)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>Order totals.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>items (<a href="#item_transfer">ItemTransfer</a>[])	</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>CartItem collection.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>voucherDiscounts (<a href="#discount_transfer">DiscountTransfer</a>[])</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>&#160;</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>cartRuleDiscounts  (<a href="#discount_transfer">DiscountTransfer</a>[])</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>&#160;</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>expenses (<a href="#expense_transfer">ExpenseTransfer</a>)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>&#160;</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyB-Regular-DarkerRows">priceMode (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyA-Regular-DarkerRows">Quote object's price mode.</td>
                </tr>
            </tbody>
        </table>
        <h3><a name="totals_transfer"></a>

	Totals Transfer
</h3>
        <p>TotalsTransfer is a data object holding cart totals, subtotal, expenses (shipping), discount total and grand total. Here should the amounts for order level be stored.</p>
        <table class="TableStyle-PatternedRows2" style="margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/TableStyles/PatternedRows2.css');" cellspacing="0">
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <thead>
                <tr class="TableStyle-PatternedRows2-Head-Header1">
                    <th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Field	</th>
                    <th class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Description
</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>

subtotal (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>Calculated total amount before taxes and discounts. Is set by <var>SubtotalCalculatorPlugin</var>.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>
expenseTotal (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>Total expenses amount (shipping). It is set by <var>ExpenseTotalCalculatorPlugin</var>.
</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>discountTotal (int)	</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>Total discount amount. It is set by <var>DiscountTotalCalculatorPlugin</var>.
</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>	taxTotal (<a href="#tax_total_transfer">TaxTotalsTransfer</a>)	</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>Tax totals for current cart. Is set by <var>TaxTotalCalculatorPlugin</var>.
</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>grandTotal (int)	</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>The total amount the customer needs to pay after the discounts are applied.
It is set by <var>GrandTotalCalculatorPlugin</var> calculator plugin.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>refundTotal (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>Total refundable amount.  It is set by <var>RefundTotalCalculatorPlugin</var> calculator plugin.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>canceledTotal (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>Total canceled amount. It is set by <var>CanceledTotalCalculationPlugin</var> calculator plugin.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyB-Regular-DarkerRows">
                        <p>hash (string)	</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyA-Regular-DarkerRows">
                        <p>Hash from total values to identify amount changes. It is set by <var>GrandTotalCalculatorPlugin</var>.
</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3><a name="tax_total_transfer"></a>Tax Total Transfer
</h3>
        <p>TaxTotalsTransfer holds the taxRate and taxAmount used for the grandTotal.
</p>
        <table class="TableStyle-PatternedRows" style="mc-table-style: url('../../../Resources/TableStyles/PatternedRows.css');margin-left: 0;margin-right: auto;width: 100%;" cellspacing="0">
            <col class="TableStyle-PatternedRows-Column-Regular" />
            <col class="TableStyle-PatternedRows-Column-Regular" />
            <thead>
                <tr class="TableStyle-PatternedRows-Head-Header1">
                    <th class="TableStyle-PatternedRows-HeadE-Regular-Header1">Field	</th>
                    <th class="TableStyle-PatternedRows-HeadD-Regular-Header1">Description
</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows-Body-LightRows">
                    <td class="TableStyle-PatternedRows-BodyB-Regular-LightRows">
                        <p>amount (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows-BodyA-Regular-LightRows">
                        <p>
		Current tax amount from grandTotal.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3><a name="item_transfer"></a>Item Transfer</h3>
        <p>ItemTransfer is a cart item transfer, holds single product information.

</p>
        <table class="TableStyle-PatternedRows2" style="margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/TableStyles/PatternedRows2.css');" cellspacing="0">
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <thead>
                <tr class="TableStyle-PatternedRows2-Head-Header1">
                    <th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Field	</th>
                    <th class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Description
</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>quantity (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>Number of items selected.
</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>unitGrossPrice (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>	Single item gross price set with <var>CartItemPricePlugin</var> (cart expander).</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>sumGrossPrice (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>Sum of item's gross price, calculated with <var>PriceCalculatorPlugin</var>.
</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">unitNetPrice (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Single item net price, set with <var>CartItemPricePlugin</var> (cart expander). </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">sumNetPrice (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Sum of items net price, calculated with <var>PriceCalculatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">unitPrice (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Single item price without assuming is it new or gross, this value should be used everywhere the price is displayed, it allows switching tax mode without side effects. It's set with <var>CartItemPricePlugin</var> (cart expander). </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">sumPrice (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Sum of item's price calculated with <var>PriceCalculatorPlugin</var>. </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">taxRate (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Current tax rate, set by <var>ProductItemTaxRateCalculatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">refundableAmount (int) </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Item available refundable amount (order only), set by <var>RefundableAmountCalculatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">unitTaxAmount (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Tax amount for single item after discounts, set by  <var>TaxAmountCalculatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">sumTaxAmount (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Tax amount for sum of items (order only), set by  <var>TaxAmountCalculatorPlugin</var>. </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <MadCap:xref href="#calculated_discount_transfer">Calculated Discount Transfer
</MadCap:xref>[] </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Item calculated discount collection, set by <var>DiscountCalculatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">canceledAmount (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Canceled amount for this item (order only), set by <a href="../../Payment/Refund/refund.htm">refund</a>, when refund occurs.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">unitTaxAmountFullAggregation (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Total tax amount for given item with additions, set by <var>ItemTaxAmountFullAggregatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">sumTaxAmountFullAggregation (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Total tax amount for given sum of items with additions, set by <var>ItemTaxAmountFullAggregatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">unitProductOptionAggregation (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Item price with product options, set by <var>ItemProductOptionPriceAggregatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">sumProductOptionAggregation (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Sum Item price with product options, set by <var>ItemProductOptionPriceAggregatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">unitDiscountAmountAggregation (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Item total discount amount, set by <var>DiscountAmountAggregatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>sumDiscountAmountAggregation (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>Sum Item total discount amount, set by <var>DiscountAmountAggregatorPlugin</var>.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>unitDiscountAmountFullAggregation (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>Item total discount amount with additions, set by <var>ItemDiscountAmountFullAggregatorPlugin</var>.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>sumDiscountAmountFullAggregation (int) </p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>Sum Item total discount amount with additions, set by <var>ItemDiscountAmountFullAggregatorPlugin</var>.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>unitPriceToPayAggregation (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>Item total price to pay after discounts with additions, set by <var>PriceToPayAggregatorPlugin</var>.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>sumPriceToPayAggregation (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>Sum Item total price to pay after discounts with additions, set by <var>PriceToPayAggregatorPlugin</var>.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>taxRateAverageAggregation (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>Item tax rate average, with additions used when recalculating tax amount after cancellation, set by <var>TaxRateAverageAggregatorPlugin</var>.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyB-Regular-LightRows">
                        <p>taxAmountAfterCancellation (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyA-Regular-LightRows">
                        <p>Tax amount after cancellation, recalculated using tax average, set by <var>TaxAmountAfterCancellationCalculatorPlugin</var>.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3><a name="calculated_discount_transfer"></a>Calculated Discount Transfer
</h3>
        <p>Each item which can have discounts applied has a <var>calculatedDiscounts</var> property which holds collection of discounts for each discount type.

</p>
        <table class="TableStyle-PatternedRows2" style="margin-left: 0;margin-right: auto;width: 100%;mc-table-style: url('../../../Resources/TableStyles/PatternedRows2.css');" cellspacing="0">
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <thead>
                <tr class="TableStyle-PatternedRows2-Head-Header1">
                    <th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Field	</th>
                    <th class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Description
</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>displayName (string)	</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>Applied discount name.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>description (string)	</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>Applied discount description.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>voucherCode (string)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>

	Used voucher code.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>quantity(int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>
	Number of discounted items.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>
unitGrossAmount (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>	Discount gross amount for single items, set by <var>DiscountCalculatorPlugin</var>.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyB-Regular-DarkerRows">
                        <p>sumGrossAmount (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyA-Regular-DarkerRows">
                        <p>Discount gross amount for sum of items, set by <var>DiscountCalculatorPlugin</var>.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3><a name="product_option_transfer"></a>Product Option Transfer
</h3>
        <p>ProductOptionTransfer, some items may have product option collection attached which also have amounts calculated.
</p>
        <table class="TableStyle-PatternedRows2" style="margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/TableStyles/PatternedRows2.css');" cellspacing="0">
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <thead>
                <tr class="TableStyle-PatternedRows2-Head-Header1">
                    <th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Field	</th>
                    <th class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Description
</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>
idSalesOrderItemOption (int)	</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>Sales order item ID option stored after the order is placed.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>
unitGrossPrice (int)	</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>single item gross price. It’s set <var>by CartItemProductOptionPlugin </var>(cart expander).</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>
sumGrossPrice (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>sum of items gross price. It’s set by <var>PriceCalculatorPlugin</var> (cart expander).</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>unitNetPrice (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>Single item net price. It's set by <var>CartItemProductOptionPlugin</var> (cart expander).</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>sumNetPrice (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>sum of items net price. It's set by <var>PriceCalculatorPlugin </var>(cart expander).</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>unitPrice (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>single item price without assuming is it new or gross, this value should be used everywhere where price is displayed, it allows switching tax mode without side effects. It's set by <var>PriceCalculatorPlugin</var> cart expander.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>
taxRate (int)	</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>Tax rate in percentage. It’s set by <var>ProductOptionTaxRateCalculatorPlugin</var> (cart expander).</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>calculatedDiscounts[] (<a href="#calculated_discount_transfer">CalculatedDiscountTransfer</a>)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>Product Option calculated discount collection. It’s set by <var>DiscountCalculatorPlugin.</var></p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>

refundableAmount (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>Item available refundable amount (order only), set by <var>RefundableAmountCalculatorPlugin</var>.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>
unitTaxAmount (int)	</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>      Tax amount for single product option (order only), set by <var>TaxAmountCalculatorPlugin</var>. </p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">
                        <p>
sumTaxAmount (int)	</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">
                        <p>Tax amount for sum of product options (order only), set by <var>TaxAmountCalculatorPlugin</var>.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <p>unitDiscountAmountAggregation (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>Product option total discount amount, set by <var>DiscountAmountAggregatorPlugin</var>.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyB-Regular-LightRows">
                        <p>sumDiscountAmountAggregation (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyA-Regular-LightRows">
                        <p>Sum of product option total discount amount, set by <var>DiscountAmountAggregatorPlugin</var>.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3><a name="discount_transfer"></a>Discount Transfer
</h3>
        <p>DiscountTransfer, is a collection of discounts used in all QuoteTransfer discountable items such as voucherDiscounts and cartRuleDiscounts.

</p>
        <table class="TableStyle-PatternedRows2" style="margin-left: 0;margin-right: auto;width: 100%;mc-table-style: url('../../../Resources/TableStyles/PatternedRows2.css');" cellspacing="0">
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <thead>
                <tr class="TableStyle-PatternedRows2-Head-Header1">
                    <th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Field	</th>
                    <th class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Description
</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyB-Regular-LightRows">
                        <p>amount (int)</p>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyA-Regular-LightRows">
                        <p>total discount amount used for this discount type. It’s set by <var>DiscountCalculatorPlugin</var></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p><![CDATA[

]]></p>
        <h3><a name="expense_transfer"></a>ExpenseTransfer
</h3>
        <table class="TableStyle-PatternedRows2" style="margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/TableStyles/PatternedRows2.css');" cellspacing="0">
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <col class="TableStyle-PatternedRows2-Column-Regular" />
            <thead>
                <tr class="TableStyle-PatternedRows2-Head-Header1">
                    <th class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Field	</th>
                    <th class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Description
</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">sumGrossPrice (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Sum of item gross price, set by <var>PriceCalculatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">unitGrossPrice (string)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Single expense price. e.g.: shipment expenses are set in the Checkout <var>ShipmentStep</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">sumNetPrice (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Sum of item net price, set by <var>PriceCalculatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">unitNetPrice (string)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Single net price. e.g.: shipment expenses are set in the Checkout <var>ShipmentStep</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">taxRate (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Tax in percents, set by <var>ShipmentTaxRateCalculatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">unitPrice (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Single item price without assuming is it new or gross, this value should be used everywhere where price is displayed, it allows switching tax mode without side effects, set by <var>PriceCalculatorPlugin </var>(cart expander).</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">sumPrice (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Sum of items price, set by <var>PriceCalculatorPlugin </var>(cart expander).</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">
                        <MadCap:xref href="#calculated_discount_transfer">Calculated Discount Transfer
</MadCap:xref>
                    </td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">
                        <p>List of applied discounts for this item.</p>
                    </td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">quantity (int</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Number of items.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">refundableAmount (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Total refundable amount for this item (order only), set by <var>RefundableAmountCalculatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">canceledAmount (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Total canceled amount for this item (order only), set by <a href="../../Payment/Refund/refund.htm">refund</a>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">unitTaxAmount (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Tax amount for single item after discounts, set by <var>TaxAmountCalculatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-LightRows">sumTaxAmount (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-LightRows">Tax amount for sum of items after discounts, set by <var>TaxAmountCalculatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-DarkerRows">
                    <td class="TableStyle-PatternedRows2-BodyE-Regular-DarkerRows">unitDiscountAmountAggregation (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyD-Regular-DarkerRows">Expense total discount amount, set by <var>DiscountAmountAggregatorPlugin</var>.</td>
                </tr>
                <tr class="TableStyle-PatternedRows2-Body-LightRows">
                    <td class="TableStyle-PatternedRows2-BodyB-Regular-LightRows">sumDiscountAmountAggregation (int)</td>
                    <td class="TableStyle-PatternedRows2-BodyA-Regular-LightRows">Sum of expense total discount amount, set by <var>DiscountAmountAggregatorPlugin</var>.</td>
                </tr>
            </tbody>
        </table>
        <p>&#160;</p>
    </body>
</html>
