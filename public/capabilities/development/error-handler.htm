<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="" MadCap:conditions="Spryker.B2B,Spryker.B2C,Spryker.DemoShop,Spryker.ShopSuite">
    <head>
    </head>
    <body>
        <h1>ErrorHandler <img src="../../Resources/Images/shoptype/B2B_Shop.png" /> <img src="../../Resources/Images/shoptype/B2C_Shop.png" /> <img src="../../Resources/Images/shoptype/MasterSuite.png" /> <img src="../../Resources/Images/shoptype/Demoshop.png" /></h1>
        <p MadCap:conditions="General.Hidden Comment">used to be: http://spryker.github.io/core/bundles/error-handler/</p>
        <p>The <MadCap:variable name="General.ProductName" /> uses a dedicated error handling mechanism to collect detailed error related information. The ErrorHandler handles notices, warnings and other types of minor issues usually not thrown as exceptions as strict as more serious errors. By default, they all throw meaningful exceptions for developers and provide an early warning system for isolating minor issues in code that are normally overlooked.</p>
        <p>Errors in the CLI are exposed differently than errors displayed in the web interface. In the front-end application you receive a formatted error page. In the CLI you get in-depth details regarding the exception and a proper stack trace. In this topic, we will show how to manage and configure how errors are rendered.</p>
        <p><strong>Note:</strong> We use whoops for error rendering on the Zed side. For more information please check <a href="https://filp.github.io/whoops/" target="_blank">whoops library documentation</a>.</p>
        <h2>Configuration</h2>
        <p>The ErrorHandler module has a rich list of configuration options for controlling the ErrorHandler’s behavior. We include a detailed list including specifications in the module’s <var>ErrorHandlerConstants</var> file.</p>
        <h2>ErrorRenderer</h2>
        <p>You can change the <var>ErrorRenderer</var> error output to suit the environment you are working on (development or production).</p>
        <p>The renderer is changed in your configuration files as follows:</p>
        <ul>
            <li class="bullet_list">To change the renderer, use the <var>ErrorHandlerConstants::ErrorRenderer</var> constant:</li>
            <li class="bullet_list">To display a formatted HTML page in production environments, use <var>WebErrorHtmlRenderer</var>.</li>
            <li class="bullet_list">To display exception details in a development environment, use <var>WebExceptionErrorRenderer</var> this displays developer relevant messages and the exception’s stack trace.</li>
        </ul>
        <p>The following example shows how to change the error renderer for a development environment:</p><pre><code class="language-PHP line-numbers">&lt;?php
use Spryker\Shared\ErrorHandler\ErrorHandlerConstants;
use Spryker\Shared\ErrorHandler\ErrorRenderer\WebExceptionErrorRenderer;

$config[ErrorHandlerConstants::ERROR_RENDERER] = WebExceptionErrorRenderer::class;</code></pre>
        <h2>Error Pages</h2>
        <p>Yves and Zed have their own specific templates for rendering exceptions.</p>
        <p>To change the path to another file: Use the <var>ErrorHandlerConstants::ZED_ERROR_PAGE|YVES_ERROR_PAGE</var> constants.</p>
        <h2>Connecting the ErrorHandler to your IDE</h2>
        <p>As of version 1.1 of the ErrorHandler module, you can connect Zed error pages to your IDE in order use one click navigation to stack trace file.</p>
        <p><strong>To connect the ErrorHandler to your IDE</strong>: Enable a config in your <var>config_local.php</var> file as follows:</p><pre><code class="language-PHP line-numbers">&lt;?php
use Spryker\Shared\ErrorHandler\ErrorHandlerConstants;

$config[ErrorHandlerConstants::USER_BASE_PATH] = '/absolute/path/to/project';</code></pre>
        <p>The <var>SERVER_BASE_PATH</var> config defaults to the DevVM internal <var>/data/shop/development/current</var>, but can also be configured if necessary.</p>
        <p><strong>Note</strong>: In the example above, the connection was done to the PHPStorm IDE. The same method should work with other IDEs although in some cases, <var>AS_AJAX</var> config may be needed.</p>
        <h3>Configuration for Linux</h3>
        <p>While the above-mentioned instructions work out of the box for most operating systems including MacOS, Linux needs the following script to get PHPStorm to open files:</p><pre><code class="language-PHP line-numbers">#!/usr/bin/env bash
# PhpStorm URL Handler
#
# phpstorm://open?file=@file&amp;line=@line
# Adapted from https://github.com/sanduhrs/phpstorm-url-handler
#
# @license GPL
# @author Stefan Auditor &lt;stefan.auditor@erdfisch.de&gt;
arg=${1}
# Get the file path.
file=$(echo "${arg}" | sed -r 's/.*file=(.*)&amp;line=.*/\1/')
# Get the line number.
line=$(echo "${arg}" | sed -r 's/.*file=.*&amp;line=(.*)/\1/')
/locale/path/to/PhpStorm/bin/phpstorm.sh --line "${line}" "${file}"</code></pre>
        <p>Replace <var>/locale/path/to/PhpStorm/bin/phpstorm.sh</var> with your IDE’s local path and make this script executable. Save this script as <var>phpstorm-url-handler</var> and execute:
        </p><pre><code class="language-PHP line-numbers">chmod +X phpstorm-url-handler
cp phpstorm-url-handler /usr/local/bin/phpstorm-url-handler</code></pre>
        <p>Make this available on your local machine by using the command <var>phpstorm-url-handler</var>.</p>
        <p>The final step is to enable the protocol in your local browser.</p>
        <p>For example: In Firefox, if the protocol is unknown, we need to enable the <var>phpstorm://</var> protocol via <var>about:config</var>. To enable the PHPStorm protocol, add a new boolean value for <var>network.protocol-handler.expose.phpstorm</var> and keep the default value <var>false</var>.</p>
    </body>
</html>