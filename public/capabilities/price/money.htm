<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="" MadCap:conditions="Spryker.B2C,Spryker.B2B">
    <head>
        <link href="../../Resources/TableStyles/VerticalTable.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body>
        <h1>Money <img src="../../Resources/Images/shoptype/B2B_Shop.png" /> <img src="../../Resources/Images/shoptype/B2C_Shop.png" /></h1>
        <p MadCap:conditions="General.Hidden Comment">used to be: http://spryker.github.io/core/bundles/money/</p>
        <p class="tip"><strong>Money</strong>
            <br />Handling monetary values can be a problem and is often quite hard. The Money bundle makes it easier to work with monetary values.</p>
        <p>Spryker handles all monetary values as integer and provides conversions from decimal values to cent values and vice versa.</p>
        <p>The key feature of this module is to convert a <var>MoneyTransfer</var> into the proper string version of it, given the current locale and currency.</p>
        <h2>Usage</h2>
        <p>The Money module is very straight forward and easy to use. The <var>MoneyFacade</var> exposes the following methods:</p>
        <ul>
            <li class="bullet_list"><var>MoneyFacade::fromInteger()</var>
            </li>
            <li class="bullet_list"><var>MoneyFacade::fromFloat()</var>
            </li>
            <li class="bullet_list"><var>MoneyFacade::fromString()</var>
            </li>
            <li class="bullet_list"><var>MoneyFacade::formatWithCurrency()</var>
            </li>
            <li class="bullet_list"><var>MoneyFacade::formatWithoutCurrency()</var>
            </li>
            <li class="bullet_list"><var>MoneyFacade::convertIntegerToDecimal()</var>
            </li>
            <li class="bullet_list"><var>MoneyFacade::convertDecimalToInteger()</var>
            </li>
        </ul>
        <h3><var>MoneyFacade::from*()</var> methods</h3>
        <p>Internally we use a powerful implementation of the Money Pattern. Outside the Money module you will only see the <var>MoneyTransfer</var> which encapsulates our internals.</p>
        <p>To get a money object you can call the <var>MoneyFacade::from*()</var> methods:</p>
        <table class="TableStyle-VerticalTable" style="mc-table-style: url('../../Resources/TableStyles/VerticalTable.css');" cellspacing="0">
            <col class="TableStyle-VerticalTable-Column-Column1" />
            <col class="TableStyle-VerticalTable-Column-Column2" />
            <tbody>
                <tr class="TableStyle-VerticalTable-Body-Body1">
                    <td class="TableStyle-VerticalTable-BodyE-Column1-Body1"><var>MoneyFacade::fromInteger(1000)</var>
                    </td>
                    <td class="TableStyle-VerticalTable-BodyD-Column2-Body1">with integer</td>
                </tr>
                <tr class="TableStyle-VerticalTable-Body-Body2">
                    <td class="TableStyle-VerticalTable-BodyE-Column1-Body2"><var>MoneyFacade::fromInteger(1000, 'EUR')</var>
                    </td>
                    <td class="TableStyle-VerticalTable-BodyD-Column2-Body2">with integer and currency</td>
                </tr>
                <tr class="TableStyle-VerticalTable-Body-Body1">
                    <td class="TableStyle-VerticalTable-BodyE-Column1-Body1"><var>MoneyFacade::fromFloat(10.00)</var>
                    </td>
                    <td class="TableStyle-VerticalTable-BodyD-Column2-Body1">with float</td>
                </tr>
                <tr class="TableStyle-VerticalTable-Body-Body2">
                    <td class="TableStyle-VerticalTable-BodyE-Column1-Body2"><var>MoneyFacade::fromFloat(10.00, 'EUR')</var>
                    </td>
                    <td class="TableStyle-VerticalTable-BodyD-Column2-Body2">with float and currency</td>
                </tr>
                <tr class="TableStyle-VerticalTable-Body-Body1">
                    <td class="TableStyle-VerticalTable-BodyE-Column1-Body1"><var>MoneyFacade::fromString('1000')</var>
                    </td>
                    <td class="TableStyle-VerticalTable-BodyD-Column2-Body1">with string</td>
                </tr>
                <tr class="TableStyle-VerticalTable-Body-Body2">
                    <td class="TableStyle-VerticalTable-BodyB-Column1-Body2"><var>MoneyFacade::fromString('1000', 'EUR')</var>
                    </td>
                    <td class="TableStyle-VerticalTable-BodyA-Column2-Body2">with string and currency</td>
                </tr>
            </tbody>
        </table>
        <p>All of them will return a <var>MoneyTransfer </var>with a <var>MoneyTransfer::$amount</var> of ‘1000’. The only difference between them is the <var>MoneyTransfer::$currency</var>. This value differs if you pass a currency to the <var>MoneyFacade::from*()</var> methods or not.</p>
        <p>In case you don’t pass a currency, the currency configured as default one will be used. If you pass a specific currency, it will be used instead of the one that’s configured as default one.</p>
        <h4><var>MoneyFacade::formatWithSymbol()</var>
        </h4>
        <p>This method accepts only one argument, a <var>MoneyTransfer</var>. It will return a string representation of the given object, considering the current locale.</p>
        <p>Example:</p>
        <p><var>MoneyTransfer::$amount</var> = 1000</p>
        <p><var>MoneyTransfer::$currency</var> = ‘EUR’</p>
        <p>Current locale is <var>de_DE</var></p>
        <p>The output would be <var>10,00 €</var></p>
        <p>If the current locale would be <var>en_US</var>, the output would be: <var>€10.00</var> when passing the same object.</p>
        <h4><var>MoneyFacade::formatWithoutSymbol()</var>
        </h4>
        <p>The same behavior as in <var>MoneyFacade::formatWithSymbol()</var>, except of the fact that the currency symbol is not included.</p>
        <p>The output would then be <var>10,00</var> or <var>10.00</var> for the above example.</p>
        <h4><var>MoneyFacade::convertIntegerToDecimal()</var>
        </h4>
        <p>In some cases you will need a plain decimal representation of the value in integer (e.g. cents). This can be useful e.g. for API calls.</p>
        <h4><var>MoneyFacade::convertDecimalToInteger()</var>
        </h4>
        <p>In some cases you will need an integer (e.g. cents) representation for a decimal value. This can be useful when you want to store monetary values in the database.</p>
        <h3>Money Collection Form Type</h3>
        <p>From Money version  2.2.*, you can have money collection form type inside your forms which will allow to include complex form collection that will render table with currency per store and gross/net price.</p>

        For example, add FormBuilder
in your form Type:        <pre><code class="language-php line-numbers">
  /**
       * @param \Symfony\Component\Form\FormBuilderInterface $builder
       *
       * @return $this
       */
      protected function addMoneyValueCollectionType(FormBuilderInterface $builder)
      {
          $builder-&gt;add(
              DiscountCalculatorTransfer::MONEY_VALUE_COLLECTION, //is the property in the main form you want to map. It should be transferred as in example
              MoneyCollectionType::class,
              [
                  MoneyCollectionType::OPTION_AMOUNT_PER_STORE =&gt; false, //If you want to render per store, set it to true
              ]
          );

          return $this;
      }

        </code></pre>

        Also, you need to modify twig template to include form money value collection table.

        <pre><code class="language-php line-numbers">
 {{ form_money_collection(mainForm.moneyValueCollection) }}
        </code></pre><p>This will render table with all currencies enabled in store. You have to handle persistence yourself, which means that you have to save and read data to MoneyValueTransfer collection.
        Component provides only initial data.</p><p>&#160;</p><p><i>Last review date: Oct 6, 2017 </i><MadCap:conditionalText MadCap:conditions="General.Hidden Comment"><i>by Aurimas Ličkus </i></MadCap:conditionalText></p></body>
</html>