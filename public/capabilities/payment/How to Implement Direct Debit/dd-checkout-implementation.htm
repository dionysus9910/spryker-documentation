<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="" MadCap:conditions="Spryker.DemoShop,Spryker.B2C,Spryker.B2B">
    <head>
    </head>
    <body>
        <h1>Integrate Direct Debit into Checkout <img src="../../../Resources/Images/shoptype/B2B_Shop.png" /> <img src="../../../Resources/Images/shoptype/B2C_Shop.png" /><![CDATA[  ]]><img src="../../../Resources/Images/shoptype/Demoshop.png" /></h1>
        <p>The next step is to integrate direct debit into <var>Checkout</var>. In the <var>PaymentMethods/Dependency/Injector</var> from Yves add the <code>CheckoutDependencyInjector</code>, that will inject the direct debit form and handler into the <var>Checkout</var> module:</p>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Click t<MadCap:annotation MadCap:createDate="2018-09-11T14:11:10.6740300+03:00" MadCap:creator="oksana.karasyova" MadCap:initials="OK" MadCap:comment="Confirm the code sample for Suite" MadCap:editor="oksana.karasyova" MadCap:editDate="2018-09-11T14:11:19.5741793+03:00">o expand the code sam</MadCap:annotation>ple</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody><pre xml:space="preserve"><code class="bash">&lt;?php

namespace Pyz\Yves\PaymentMethods\Dependency\Injector;

use Spryker\Shared\Kernel\ContainerInterface;
use Spryker\Shared\Kernel\Dependency\Injector\DependencyInjectorInterface;
use Spryker\Yves\Checkout\CheckoutDependencyProvider;
use Pyz\Yves\PaymentMethods\Plugin\DirectDebitHandlerPlugin;
use Pyz\Yves\PaymentMethods\Plugin\DirectDebitSubFormPlugin;
use Spryker\Yves\StepEngine\Dependency\Plugin\Form\SubFormPluginCollection;
use Spryker\Yves\StepEngine\Dependency\Plugin\Handler\StepHandlerPluginCollection;
use Pyz\Shared\PaymentMethods\PaymentMethodsConstants;

class CheckoutDependencyInjector implements DependencyInjectorInterface
{
    /**
     * @param \Spryker\Shared\Kernel\ContainerInterface|\Spryker\Yves\Kernel\Container $container
     *
     * @return \Spryker\Shared\Kernel\ContainerInterface|\Spryker\Yves\Kernel\Container
     */
    public function inject(ContainerInterface $container)
    {
        $container = $this-&gt;injectPaymentSubForms($container);
        $container = $this-&gt;injectPaymentMethodHandler($container);

        return $container;
    }

    /**
     * @param \Spryker\Shared\Kernel\ContainerInterface $container
     *
     * @return \Spryker\Shared\Kernel\ContainerInterface
     */
    protected function injectPaymentSubForms(ContainerInterface $container)
    {
        $container-&gt;extend(static::PAYMENT_SUB_FORMS, function (SubFormPluginCollection $paymentSubForms) {
            $paymentSubForms-&gt;add(new DirectDebitSubFormPlugin());

            return $paymentSubForms;
        });

        return $container;
    }

    /**
     * @param \Spryker\Shared\Kernel\ContainerInterface $container
     *
     * @return \Spryker\Shared\Kernel\ContainerInterface
     */
    protected function injectPaymentMethodHandler(ContainerInterface $container)
    {
        $container-&gt;extend(static::PAYMENT_METHOD_HANDLER, function (StepHandlerPluginCollection $paymentMethodHandler) {
            $paymentMethodHandler-&gt;add(new DirectDebitHandlerPlugin(), PaymentMethodsConstants::PROVIDER);

            return $paymentMethodHandler;
        });

        return $container;
    }
}
</code></pre>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <p MadCap:conditions="Spryker.DemoShop">If you recreated this example in Demoshop, you’ll need to do some adjustments on the <var>selectPayment()</var> from <var>checkout.js</var>.</p>
    </body>
</html>