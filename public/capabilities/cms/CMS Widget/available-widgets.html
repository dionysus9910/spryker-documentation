<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Spryker.B2C,Spryker.B2B,Spryker.ShopSuite,Spryker.DemoShop,General.Draft">
    <head>
        <link href="../../../Resources/TableStyles/PatternedRows2.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>Available Widgets | Spryker</title>
        <meta name="description" content="There are four widgets provided by default: Product (abstract), Product Set, Product Group, Product Search. They can be found in Administration Interface." />
    </head>
    <body>
        <h1>Available Widgets <img src="../../../Resources/Images/shoptype/B2B_Shop.png" /> <img src="../../../Resources/Images/shoptype/B2C_Shop.png" /></h1>
        <p>Currently there are four widgets provided by default in Spryker shop: </p>
        <ul>
            <li><a href="#Product_(abstract)">Product (abstract)</a>
            </li>
            <li><a href="#Product_Group">Product Group</a>
            </li>
            <li> <a href="#Product_Set">Product Set</a></li>
            <li><a href="#Product">Product Search</a>
            </li>
        </ul>
        <p class="info">They can be found in Administration Interface under <b>Content Management</b>-&gt;<b>Page</b>-&gt; <b>Edit Placeholders</b>-&gt; <b>Content</b> tab. </p>
        <p>The rules for widget creation are provided in <b>Cms content widget</b> area: </p>
        <div class="table-wrap">
            <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/PatternedRows2.css');" class="TableStyle-PatternedRows2" cellspacing="0">
                <col class="TableStyle-PatternedRows2-Column-Regular" style="width: 219px;" />
                <col class="TableStyle-PatternedRows2-Column-Regular" style="width: -246px;" />
                <thead>
                    <tr class="TableStyle-PatternedRows2-Head-Header1">
                        <td class="TableStyle-PatternedRows2-HeadE-Regular-Header1">Example
					</td>
                        <td class="TableStyle-PatternedRows2-HeadD-Regular-Header1">Image					</td>
                    </tr>
                </thead>
                <tbody>
                    <tr class="TableStyle-PatternedRows2-Body-LightRows">
                        <td class="TableStyle-PatternedRows2-BodyB-Regular-LightRows">For example, to create a widget that would list products on a CMS page, you should use the following template: <var>{{ product(['sku1', 'sku2'], 'default') }}</var>, where product is the function name and <var>'093', '066', '035', '083', '021','055'</var> are its parameters (SKUs), and <var>default</var> is an optional parameter to be used to indicate a different (not default) twig template.</td>
                        <td class="TableStyle-PatternedRows2-BodyA-Regular-LightRows">
                            <img src="../../../Resources/Images/available_widgets.png" />
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p>The shop owner can also add a widget that provides a list of products based on specific filter rules, whereas the product selection is dynamic, i.e. the SKUs are not hard coded as the Elasticsearch query string is created. This can be done with Product Search widget. See <a href="#Module:">below</a> for more details about it.</p>
        <p>In the list below you can find the available widgets, their respective modules as well as the parameters that can be specified when creating the widgets.</p>
        <ul>
            <li>
                <h3><a name="Product_(abstract)"></a>Product (abstract)</h3>
                <p>Module: <b>CmsContentWidgetProductConnector</b>.</p>
                <p>
        Usage template: <code>{{ product(['sku1', 'sku2']) }}</code>, where <code>sku</code> - SKU of an abstract product.
    </p>
                <p> You can use custom template like <code>
        {{ product(['sku1', 'sku2'], 'custom-template') }}
    </code></p>
            </li>
            <li>
                <h3><a name="Product_Group"></a>Product Group</h3>
                <p>Module: <b>CmsContentWidgetProductGroupConnector</b></p>
                <p>
        Usage template <code>{{ product_group(['sku1', 'sku2']) }}</code>, where <code>sku</code> - SKU of an abstract product.
    </p>
                <p> You can use custom template like <code>
        {{ product_set(['sku1', 'sku2'], 'custom-template') }}
    </code></p>
            </li>
            <li>
                <h3><a name="Product_Set"></a>Product Set</h3>
                <p>Module: <b>CmsContentWidgetProductSetConnector</b>.</p>
                <p>
        Usage template: <code>{{ product_set(['set_key1', 'set_key2']) }}</code>, where <code>set_key1</code> - key of a product set.
    </p>
                <p> You can use custom template like <code>
        {{ product_set(['set_key1', 'set_key2'], 'custom-template') }}
    </code></p>
            </li>
            <li>
                <h3><a name="Product"></a>Product Search</h3>
                <p><a name="Module:"></a>Module: <b>CmsContentWidgetProductSearchConnector</b>.</p>
                <p>For this widget, an Elasticsearch query should be created. Fields for querying could be for example as follows:</p><pre><code class="language-bash line-numbers">"store": "DE",
"locale": "de_DE",
"type": "product_abstract",
"is_featured": false,
"is-active": true</code></pre>
                <p>All other fields are custom. Check <MadCap:xref href="../../Search and Filter/search-4-0.htm">Search 4.0</MadCap:xref> for information about project custom fields.</p>
                <p>For example, the query in ZED can be like this: <var>{{ product_search('is-active:false AND locale:de_DE') }}</var>, where <var>'is-active:false AND locale:de_DE'</var> is the search string for Elasticsearch.</p>
                <p class="note">
The query operators are case-sensitive, so AND, OR should be upper-case.</p>
                <p>
The Elasticsearch query results can be pre-checked in Sense. See <a href="https://academy.spryker.com/understanding_spryker/faq.html?Highlight=kibana">here</a> for instructions on how to install it. Make sure you put <var>de_search</var> index in the server filed: <var>http://VM_IP:10005/de_search</var>.
        Write your query in the left panel of Sense:
        <pre><code class="language-bash line-numbers">GET _search
         {
                "size": 8,
                "query": {
                    "query_string" : {
                        "query" : "_your query here_"
                    }
                }
            }        </code></pre></p>
                <p> So for our example the query would look like this</p><pre xml:space="preserve"><code class="bash">GET _search
	  {
	       "size": 8,
		"query": {
	            "query_string" : {
		        "query" : "is-active:false AND locale:de_DE"
		      }
		 }
	     }</code></pre>
                <p>Here is the example of query and results in Sense:</p>
                <p>
                    <img src="../../../Resources/Images/sense_query.png" />
                </p>
                <p>You can also use a custom template like <code>
        {{ product_search('is-active:false AND locale:de_DE', 'custom-template') }}
</code></p>
                <p class="note">Note, that when using the Product Search widget, no more than 8 results are returned. This value is hard coded.</p>
            </li>
        </ul>
        <p>&#160;</p>
        <p><b>See also:</b>
        </p>
        <ul>
            <li><![CDATA[
                ]]><a href="cms-widget.htm">Get a general idea of what the widgets are</a><![CDATA[
                ]]></li>
            <li><a href="cms-widget.htm">Learn how to enable CMS widgets</a>
            </li>
        </ul>
        <p>&#160;</p>
        <p><i>Last
review date: Jan. 30th, 2018 </i>
            <MadCap:conditionalText MadCap:conditions="General.Hidden Comment"><i>by Kyrylo Khatsko</i>
            </MadCap:conditionalText>
        </p>
    </body>
</html>