<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" style="mc-master-page: url('..\..\Resources\MasterPages\OtherTopics.flmsp');" MadCap:conditions="Spryker.B2B,Spryker.B2C,Spryker.MultiStore">
    <head>
    </head>
    <body>
        <h1>Multiple Warehouse Stock Management <img src="../../Resources/Images/shoptype/B2B_Shop.png" /> <img src="../../Resources/Images/shoptype/B2C_Shop.png" /> <img src="../../Resources/Images/shoptype/MasterSuite.png" /> <img src="../../Resources/Images/shoptype/Demoshop.png" /></h1>
        <p>
            <MadCap:popup>
                <MadCap:popupHead>MS</MadCap:popupHead>
                <MadCap:popupBody>Multi-store</MadCap:popupBody>
            </MadCap:popup>
        </p>
        <p>Your product's availability is calculated on a per-store basis, meaning you can manage stocks across all international entities from a single interface and make logistics management more efficient.</p>
        <p>If you have multiple warehouses for storage, your products can have multiple stock quantities to accurately reflect availability.
Also, warehouses can be shared between different stores and availability will be reflected accordingly.
You can easily manage stocks across all stores and warehouses from a single interface and make logistics management more efficient.</p>
        <ul>
            <li>Different stock types (typically used to represent different locations/warehouses)
</li>
            <li> Is-never-out-of stock products
</li>
            <li>Warehouses shared between different stores</li>
        </ul>
        <h2>Stock</h2>
        <p>Stock defines physical amount of products you have in your warehouse. This article will tell you how the stock module works and how product stock is calculated.</p>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Multiple Storage Locations</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>Spryker allows to define several storage locations in which the products are being stored. For a product we can have associated multiple stock product entries associated, each of them associated to a storage location.</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Product Stock</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>A product is associated to at least one stock product. Stocks cannot be attached to abstract products (only to concrete products). You can use a specific flag for stock which will indicate that the product associated to the stock (for example, a product with no physical stock) never goes out of stock.</p>
                <p>
                    <img src="../../Resources/Images/product_stock.png" title="Click me" alt="Product stock" class="Thumbnail" />
                </p>
                <p MadCap:conditions="General.Image_Source">https://www.gliffy.com/go/share/image/s9nwxkgx2qn4p4ycp5sv.png?utm_medium=live-embed&amp;utm_source=custom</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Calculating Current Stock For Products</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>A product quantity from a stock is being reserved when an order containing it, is being processed. The state machine is doing this job of reserving stocks by setting the <var>reserved</var> flag. In order to calculate the available stock, not only the maintained stock (the sum of stocks from each storage location) is taken into account, but also the currently processed orders.</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Shared Warehouses</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>
         From Stock module version 4.1.* a store/warehouse mapping has been added.
         It can be configured in <var>\Pyz\Zed\Stock\StockConfig::getStoreToWarehouseMapping</var> method, which must return an array with the following structure:
         <pre><code class="language-PHP line-numbers">
             /**
               * @return array
               */
              public function getStoreToWarehouseMapping()
              {
                  return [
                      'DE' =&gt; [ //key is store name
                          'Warehouse1', //values are warehouse names from `spy_stock.name`
                          'Warehouse2',
                      ],
                      'AT' =&gt; [
                          'Warehouse2',
                      ],
                      'US' =&gt; [
                          'Warehouse2',
                      ],
                  ];
              }
         </code></pre>

         Using this mapping, availability for product will be calculated.
</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <p>&#160;</p>
        <p><b>See also:</b>
        </p>
        <ul>
            <li><a href="about-inventory.htm">Get a general idea of what inventory is and what differs product stock from availability</a>
            </li>
            <li><a href="stock-availability-management.htm">Learn what the Availability module does and how it works</a>
            </li>
            <li><a href="https://documentation.spryker.com/module_migration_guides/mg-oms.htm">Learn how to migrate to a newer version of OMS module</a>
            </li>
        </ul>
        <p>&#160;</p>
        <p><i>Last review date: Jan. 19th, 2018 </i>
            <MadCap:conditionalText MadCap:conditions="General.Hidden Comment"><i>by Aurimas Ličkus</i>
            </MadCap:conditionalText>
        </p>
    </body>
</html>